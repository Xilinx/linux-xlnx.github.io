

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Proc Files of ALSA Drivers &mdash; The Linux Kernel  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="The Linux Kernel  documentation" href="../../index.html"/>
        <link rel="up" title="Designs and Implementations" href="index.html"/>
        <link rel="next" title="Notes on Power-Saving Mode" href="powersave.html"/>
        <link rel="prev" title="Tracepoints in ALSA" href="tracepoints.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.19.0-xilinx-v2019.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Linux kernel licensing rules</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user&#8217;s and administrator&#8217;s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer&#8217;s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux Sound Subsystem Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../kernel-api/index.html">ALSA Kernel API Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Designs and Implementations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="control-names.html">Standard ALSA Control Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="channel-mapping-api.html">ALSA PCM channel-mapping API</a></li>
<li class="toctree-l3"><a class="reference internal" href="compress-offload.html">ALSA Compress-Offload API</a></li>
<li class="toctree-l3"><a class="reference internal" href="timestamping.html">ALSA PCM Timestamping</a></li>
<li class="toctree-l3"><a class="reference internal" href="jack-controls.html">ALSA Jack Controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="tracepoints.html">Tracepoints in ALSA</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Proc Files of ALSA Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-information">Global Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#card-specific-files">Card Specific Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pcm-proc-files">PCM Proc Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ac97-codec-information">AC97 Codec Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-audio-streams">USB Audio Streams</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hd-audio-codecs">HD-Audio Codecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sequencer-information">Sequencer Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#help-for-debugging">Help For Debugging?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="powersave.html">Notes on Power-Saving Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="oss-emulation.html">Notes on Kernel OSS-Emulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="seq-oss.html">OSS Sequencer Emulation on ALSA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../soc/index.html">ALSA SoC Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alsa-configuration.html">Advanced Linux Sound Architecture - Driver Configuration guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hd-audio/index.html">HD-Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cards/index.html">Card-Specific Information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Linux Filesystems API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/ext4/index.html">ext4 Filesystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">The Linux Kernel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Linux Sound Subsystem Documentation</a> &raquo;</li>
      
          <li><a href="index.html">Designs and Implementations</a> &raquo;</li>
      
    <li>Proc Files of ALSA Drivers</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/sound/designs/procfile.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="proc-files-of-alsa-drivers">
<h1>Proc Files of ALSA Drivers<a class="headerlink" href="#proc-files-of-alsa-drivers" title="Permalink to this headline">¶</a></h1>
<p>Takashi Iwai &lt;<a class="reference external" href="mailto:tiwai&#37;&#52;&#48;suse&#46;de">tiwai<span>&#64;</span>suse<span>&#46;</span>de</a>&gt;</p>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<p>ALSA has its own proc tree, /proc/asound.  Many useful information are
found in this tree.  When you encounter a problem and need debugging,
check the files listed in the following sections.</p>
<p>Each card has its subtree cardX, where X is from 0 to 7. The
card-specific files are stored in the <code class="docutils literal"><span class="pre">card*</span></code> subdirectories.</p>
</div>
<div class="section" id="global-information">
<h2>Global Information<a class="headerlink" href="#global-information" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>cards</dt>
<dd>Shows the list of currently configured ALSA drivers,
index, the id string, short and long descriptions.</dd>
<dt>version</dt>
<dd>Shows the version string and compile date.</dd>
<dt>modules</dt>
<dd>Lists the module of each card</dd>
<dt>devices</dt>
<dd>Lists the ALSA native device mappings.</dd>
<dt>meminfo</dt>
<dd>Shows the status of allocated pages via ALSA drivers.
Appears only when <code class="docutils literal"><span class="pre">CONFIG_SND_DEBUG=y</span></code>.</dd>
<dt>hwdep</dt>
<dd>Lists the currently available hwdep devices in format of
<code class="docutils literal"><span class="pre">&lt;card&gt;-&lt;device&gt;:</span> <span class="pre">&lt;name&gt;</span></code></dd>
<dt>pcm</dt>
<dd>Lists the currently available PCM devices in format of
<code class="docutils literal"><span class="pre">&lt;card&gt;-&lt;device&gt;:</span> <span class="pre">&lt;id&gt;:</span> <span class="pre">&lt;name&gt;</span> <span class="pre">:</span> <span class="pre">&lt;sub-streams&gt;</span></code></dd>
<dt>timer</dt>
<dd>Lists the currently available timer devices</dd>
<dt>oss/devices</dt>
<dd>Lists the OSS device mappings.</dd>
<dt>oss/sndstat</dt>
<dd>Provides the output compatible with /dev/sndstat.
You can symlink this to /dev/sndstat.</dd>
</dl>
</div>
<div class="section" id="card-specific-files">
<h2>Card Specific Files<a class="headerlink" href="#card-specific-files" title="Permalink to this headline">¶</a></h2>
<p>The card-specific files are found in <code class="docutils literal"><span class="pre">/proc/asound/card*</span></code> directories.
Some drivers (e.g. cmipci) have their own proc entries for the
register dump, etc (e.g. <code class="docutils literal"><span class="pre">/proc/asound/card*/cmipci</span></code> shows the register
dump).  These files would be really helpful for debugging.</p>
<p>When PCM devices are available on this card, you can see directories
like pcm0p or pcm1c.  They hold the PCM information for each PCM
stream.  The number after <code class="docutils literal"><span class="pre">pcm</span></code> is the PCM device number from 0, and
the last <code class="docutils literal"><span class="pre">p</span></code> or <code class="docutils literal"><span class="pre">c</span></code> means playback or capture direction.  The files in
this subtree is described later.</p>
<p>The status of MIDI I/O is found in <code class="docutils literal"><span class="pre">midi*</span></code> files.  It shows the device
name and the received/transmitted bytes through the MIDI device.</p>
<p>When the card is equipped with AC97 codecs, there are <code class="docutils literal"><span class="pre">codec97#*</span></code>
subdirectories (described later).</p>
<p>When the OSS mixer emulation is enabled (and the module is loaded),
oss_mixer file appears here, too.  This shows the current mapping of
OSS mixer elements to the ALSA control elements.  You can change the
mapping by writing to this device.  Read OSS-Emulation.txt for
details.</p>
</div>
<div class="section" id="pcm-proc-files">
<h2>PCM Proc Files<a class="headerlink" href="#pcm-proc-files" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">card*/pcm*/info</span></code></dt>
<dd>The general information of this PCM device: card #, device #,
substreams, etc.</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/xrun_debug</span></code></dt>
<dd><p class="first">This file appears when <code class="docutils literal"><span class="pre">CONFIG_SND_DEBUG=y</span></code> and
<code class="docutils literal"><span class="pre">CONFIG_PCM_XRUN_DEBUG=y</span></code>.
This shows the status of xrun (= buffer overrun/xrun) and
invalid PCM position debug/check of ALSA PCM middle layer.
It takes an integer value, can be changed by writing to this
file, such as:</p>
<div class="highlight-none"><div class="highlight"><pre># echo 5 &gt; /proc/asound/card0/pcm0p/xrun_debug
</pre></div>
</div>
<p>The value consists of the following bit flags:</p>
<ul class="simple">
<li>bit 0 = Enable XRUN/jiffies debug messages</li>
<li>bit 1 = Show stack trace at XRUN / jiffies check</li>
<li>bit 2 = Enable additional jiffies check</li>
</ul>
<p>When the bit 0 is set, the driver will show the messages to
kernel log when an xrun is detected.  The debug message is
shown also when the invalid H/W pointer is detected at the
update of periods (usually called from the interrupt
handler).</p>
<p>When the bit 1 is set, the driver will show the stack trace
additionally.  This may help the debugging.</p>
<p class="last">Since 2.6.30, this option can enable the hwptr check using
jiffies.  This detects spontaneous invalid pointer callback
values, but can be lead to too much corrections for a (mostly
buggy) hardware that doesn&#8217;t give smooth pointer updates.
This feature is enabled via the bit 2.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/sub*/info</span></code></dt>
<dd>The general information of this PCM sub-stream.</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/sub*/status</span></code></dt>
<dd>The current status of this PCM sub-stream, elapsed time,
H/W position, etc.</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/sub*/hw_params</span></code></dt>
<dd>The hardware parameters set for this sub-stream.</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/sub*/sw_params</span></code></dt>
<dd>The soft parameters set for this sub-stream.</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/sub*/prealloc</span></code></dt>
<dd>The buffer pre-allocation information.</dd>
<dt><code class="docutils literal"><span class="pre">card*/pcm*/sub*/xrun_injection</span></code></dt>
<dd>Triggers an XRUN to the running stream when any value is
written to this proc file.  Used for fault injection.
This entry is write-only.</dd>
</dl>
</div>
<div class="section" id="ac97-codec-information">
<h2>AC97 Codec Information<a class="headerlink" href="#ac97-codec-information" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">card*/codec97#*/ac97#?-?</span></code></dt>
<dd>Shows the general information of this AC97 codec chip, such as
name, capabilities, set up.</dd>
<dt><code class="docutils literal"><span class="pre">card*/codec97#0/ac97#?-?+regs</span></code></dt>
<dd><p class="first">Shows the AC97 register dump.  Useful for debugging.</p>
<p class="last">When CONFIG_SND_DEBUG is enabled, you can write to this file for
changing an AC97 register directly.  Pass two hex numbers.
For example,</p>
</dd>
</dl>
<div class="highlight-none"><div class="highlight"><pre># echo 02 9f1f &gt; /proc/asound/card0/codec97#0/ac97#0-0+regs
</pre></div>
</div>
</div>
<div class="section" id="usb-audio-streams">
<h2>USB Audio Streams<a class="headerlink" href="#usb-audio-streams" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">card*/stream*</span></code></dt>
<dd>Shows the assignment and the current status of each audio stream
of the given card.  This information is very useful for debugging.</dd>
</dl>
</div>
<div class="section" id="hd-audio-codecs">
<h2>HD-Audio Codecs<a class="headerlink" href="#hd-audio-codecs" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">card*/codec#*</span></code></dt>
<dd>Shows the general codec information and the attribute of each
widget node.</dd>
<dt><code class="docutils literal"><span class="pre">card*/eld#*</span></code></dt>
<dd><p class="first">Available for HDMI or DisplayPort interfaces.
Shows ELD(EDID Like Data) info retrieved from the attached HDMI sink,
and describes its audio capabilities and configurations.</p>
<p class="last">Some ELD fields may be modified by doing <code class="docutils literal"><span class="pre">echo</span> <span class="pre">name</span> <span class="pre">hex_value</span> <span class="pre">&gt;</span> <span class="pre">eld#*</span></code>.
Only do this if you are sure the HDMI sink provided value is wrong.
And if that makes your HDMI audio work, please report to us so that we
can fix it in future kernel releases.</p>
</dd>
</dl>
</div>
<div class="section" id="sequencer-information">
<h2>Sequencer Information<a class="headerlink" href="#sequencer-information" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>seq/drivers</dt>
<dd>Lists the currently available ALSA sequencer drivers.</dd>
<dt>seq/clients</dt>
<dd>Shows the list of currently available sequencer clients and
ports.  The connection status and the running status are shown
in this file, too.</dd>
<dt>seq/queues</dt>
<dd>Lists the currently allocated/running sequencer queues.</dd>
<dt>seq/timer</dt>
<dd>Lists the currently allocated/running sequencer timers.</dd>
<dt>seq/oss</dt>
<dd>Lists the OSS-compatible sequencer stuffs.</dd>
</dl>
</div>
<div class="section" id="help-for-debugging">
<h2>Help For Debugging?<a class="headerlink" href="#help-for-debugging" title="Permalink to this headline">¶</a></h2>
<p>When the problem is related with PCM, first try to turn on xrun_debug
mode.  This will give you the kernel messages when and where xrun
happened.</p>
<p>If it&#8217;s really a bug, report it with the following information:</p>
<ul class="simple">
<li>the name of the driver/card, show in <code class="docutils literal"><span class="pre">/proc/asound/cards</span></code></li>
<li>the register dump, if available (e.g. <code class="docutils literal"><span class="pre">card*/cmipci</span></code>)</li>
</ul>
<p>when it&#8217;s a PCM problem,</p>
<ul class="simple">
<li>set-up of PCM, shown in hw_parms, sw_params, and status in the PCM
sub-stream directory</li>
</ul>
<p>when it&#8217;s a mixer problem,</p>
<ul class="simple">
<li>AC97 proc files, <code class="docutils literal"><span class="pre">codec97#*/*</span></code> files</li>
</ul>
<p>for USB audio/midi,</p>
<ul class="simple">
<li>output of <code class="docutils literal"><span class="pre">lsusb</span> <span class="pre">-v</span></code></li>
<li><code class="docutils literal"><span class="pre">stream*</span></code> files in card directory</li>
</ul>
<p>The ALSA bug-tracking system is found at:
<a class="reference external" href="https://bugtrack.alsa-project.org/alsa-bug/">https://bugtrack.alsa-project.org/alsa-bug/</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="powersave.html" class="btn btn-neutral float-right" title="Notes on Power-Saving Mode" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tracepoints.html" class="btn btn-neutral" title="Tracepoints in ALSA" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>