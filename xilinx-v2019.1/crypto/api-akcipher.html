

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Asymmetric Cipher Algorithm Definitions &mdash; The Linux Kernel  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="The Linux Kernel  documentation" href="../index.html"/>
        <link rel="up" title="Programming Interface" href="api.html"/>
        <link rel="next" title="Key-agreement Protocol Primitives (KPP) Cipher Algorithm Definitions" href="api-kpp.html"/>
        <link rel="prev" title="Random Number Algorithm Definitions" href="api-rng.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.19.0-xilinx-v2019.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Linux kernel licensing rules</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user&#8217;s and administrator&#8217;s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer&#8217;s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux Kernel Crypto API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Kernel Crypto API Interface Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Kernel Crypto API Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="devel-algos.html">Developing Cipher Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="userspace-if.html">User Space Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="crypto_engine.html">CRYPTO ENGINE</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="api.html">Programming Interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html">Block Cipher Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#symmetric-key-cipher-api">Symmetric Key Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#symmetric-key-cipher-request-handle">Symmetric Key Cipher Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#single-block-cipher-api">Single Block Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#asynchronous-block-cipher-api-deprecated">Asynchronous Block Cipher API - Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#asynchronous-cipher-request-handle-deprecated">Asynchronous Cipher Request Handle - Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#synchronous-block-cipher-api-deprecated">Synchronous Block Cipher API - Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-aead.html">Authenticated Encryption With Associated Data (AEAD) Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-aead.html#authenticated-encryption-with-associated-data-aead-cipher-api">Authenticated Encryption With Associated Data (AEAD) Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-aead.html#asynchronous-aead-request-handle">Asynchronous AEAD Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-digest.html">Message Digest Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-digest.html#asynchronous-message-digest-api">Asynchronous Message Digest API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-digest.html#asynchronous-hash-request-handle">Asynchronous Hash Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-digest.html#synchronous-message-digest-api">Synchronous Message Digest API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-rng.html">Random Number Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-rng.html#crypto-api-random-number-api">Crypto API Random Number API</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Asymmetric Cipher Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asymmetric-cipher-api">Asymmetric Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asymmetric-cipher-request-handle">Asymmetric Cipher Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html">Key-agreement Protocol Primitives (KPP) Cipher Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#key-agreement-protocol-primitives-kpp-cipher-api">Key-agreement Protocol Primitives (KPP) Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#key-agreement-protocol-primitives-kpp-cipher-request-handle">Key-agreement Protocol Primitives (KPP) Cipher Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#ecdh-helper-functions">ECDH Helper Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#dh-helper-functions">DH Helper Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-samples.html">Code Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Linux Filesystems API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Filesystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">The Linux Kernel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Linux Kernel Crypto API</a> &raquo;</li>
      
          <li><a href="api.html">Programming Interface</a> &raquo;</li>
      
    <li>Asymmetric Cipher Algorithm Definitions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/crypto/api-akcipher.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="asymmetric-cipher-algorithm-definitions">
<h1>Asymmetric Cipher Algorithm Definitions<a class="headerlink" href="#asymmetric-cipher-algorithm-definitions" title="Permalink to this headline">¶</a></h1>
<dl class="type">
<dt id="c.akcipher_request">
struct <code class="descname">akcipher_request</code><a class="headerlink" href="#c.akcipher_request" title="Permalink to this definition">¶</a></dt>
<dd><p>public key request</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none"><div class="highlight"><pre>struct akcipher_request {
  struct crypto_async_request base;
  struct scatterlist *src;
  struct scatterlist *dst;
  unsigned int src_len;
  unsigned int dst_len;
  void *__ctx[];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">base</span></code></dt>
<dd>Common attributes for async crypto requests</dd>
<dt><code class="docutils literal"><span class="pre">src</span></code></dt>
<dd>Source data</dd>
<dt><code class="docutils literal"><span class="pre">dst</span></code></dt>
<dd>Destination data</dd>
<dt><code class="docutils literal"><span class="pre">src_len</span></code></dt>
<dd>Size of the input buffer</dd>
<dt><code class="docutils literal"><span class="pre">dst_len</span></code></dt>
<dd>Size of the output buffer. It needs to be at least
as big as the expected result depending on the operation
After operation it will be updated with the actual size of the
result.
In case of error where the dst sgl size was insufficient,
it will be updated to the size required for the operation.</dd>
<dt><code class="docutils literal"><span class="pre">__ctx</span></code></dt>
<dd>Start of private context data</dd>
</dl>
<dl class="type">
<dt id="c.akcipher_alg">
struct <code class="descname">akcipher_alg</code><a class="headerlink" href="#c.akcipher_alg" title="Permalink to this definition">¶</a></dt>
<dd><p>generic public key algorithm</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none"><div class="highlight"><pre>struct akcipher_alg {
  int (*sign)(struct akcipher_request *req);
  int (*verify)(struct akcipher_request *req);
  int (*encrypt)(struct akcipher_request *req);
  int (*decrypt)(struct akcipher_request *req);
  int (*set_pub_key)(struct crypto_akcipher *tfm, const void *key, unsigned int keylen);
  int (*set_priv_key)(struct crypto_akcipher *tfm, const void *key, unsigned int keylen);
  unsigned int (*max_size)(struct crypto_akcipher *tfm);
  int (*init)(struct crypto_akcipher *tfm);
  void (*exit)(struct crypto_akcipher *tfm);
  unsigned int reqsize;
  struct crypto_alg base;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">sign</span></code></dt>
<dd>Function performs a sign operation as defined by public key
algorithm. In case of error, where the dst_len was insufficient,
the req-&gt;dst_len will be updated to the size required for the
operation</dd>
<dt><code class="docutils literal"><span class="pre">verify</span></code></dt>
<dd>Function performs a sign operation as defined by public key
algorithm. In case of error, where the dst_len was insufficient,
the req-&gt;dst_len will be updated to the size required for the
operation</dd>
<dt><code class="docutils literal"><span class="pre">encrypt</span></code></dt>
<dd>Function performs an encrypt operation as defined by public key
algorithm. In case of error, where the dst_len was insufficient,
the req-&gt;dst_len will be updated to the size required for the
operation</dd>
<dt><code class="docutils literal"><span class="pre">decrypt</span></code></dt>
<dd>Function performs a decrypt operation as defined by public key
algorithm. In case of error, where the dst_len was insufficient,
the req-&gt;dst_len will be updated to the size required for the
operation</dd>
<dt><code class="docutils literal"><span class="pre">set_pub_key</span></code></dt>
<dd>Function invokes the algorithm specific set public key
function, which knows how to decode and interpret
the BER encoded public key</dd>
<dt><code class="docutils literal"><span class="pre">set_priv_key</span></code></dt>
<dd>Function invokes the algorithm specific set private key
function, which knows how to decode and interpret
the BER encoded private key</dd>
<dt><code class="docutils literal"><span class="pre">max_size</span></code></dt>
<dd>Function returns dest buffer size required for a given key.</dd>
<dt><code class="docutils literal"><span class="pre">init</span></code></dt>
<dd>Initialize the cryptographic transformation object.
This function is used to initialize the cryptographic
transformation object. This function is called only once at
the instantiation time, right after the transformation context
was allocated. In case the cryptographic hardware has some
special requirements which need to be handled by software, this
function shall check for the precise requirement of the
transformation and put any software fallbacks in place.</dd>
<dt><code class="docutils literal"><span class="pre">exit</span></code></dt>
<dd>Deinitialize the cryptographic transformation object. This is a
counterpart to <strong>init</strong>, used to remove various changes set in
<strong>init</strong>.</dd>
<dt><code class="docutils literal"><span class="pre">reqsize</span></code></dt>
<dd>Request context size required by algorithm implementation</dd>
<dt><code class="docutils literal"><span class="pre">base</span></code></dt>
<dd>Common crypto API algorithm data structure</dd>
</dl>
</div>
<div class="section" id="asymmetric-cipher-api">
<h1>Asymmetric Cipher API<a class="headerlink" href="#asymmetric-cipher-api" title="Permalink to this headline">¶</a></h1>
<p>The Public Key API is used with the algorithms of type
CRYPTO_ALG_TYPE_AKCIPHER (listed as type &#8220;akcipher&#8221; in /proc/crypto)</p>
<dl class="function">
<dt id="c.crypto_alloc_akcipher">
struct crypto_akcipher * <code class="descname">crypto_alloc_akcipher</code><span class="sig-paren">(</span>const char *<em>&nbsp;alg_name</em>, u32<em>&nbsp;type</em>, u32<em>&nbsp;mask</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_alloc_akcipher" title="Permalink to this definition">¶</a></dt>
<dd><p>allocate AKCIPHER tfm handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span> <span class="pre">alg_name</span></code></dt>
<dd>is the cra_name / name or cra_driver_name / driver name of the
public key algorithm e.g. &#8220;rsa&#8221;</dd>
<dt><code class="docutils literal"><span class="pre">u32</span> <span class="pre">type</span></code></dt>
<dd>specifies the type of the algorithm</dd>
<dt><code class="docutils literal"><span class="pre">u32</span> <span class="pre">mask</span></code></dt>
<dd>specifies the mask for the algorithm</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allocate a handle for public key algorithm. The returned struct
crypto_akcipher is the handle that is required for any subsequent
API invocation for the public key operations.</p>
<p><strong>Return</strong></p>
<dl class="docutils">
<dt>allocated handle in case of success; <code class="xref c c-func docutils literal"><span class="pre">IS_ERR()</span></code> is true in case</dt>
<dd>of an error, <code class="xref c c-func docutils literal"><span class="pre">PTR_ERR()</span></code> returns the error code.</dd>
</dl>
<dl class="function">
<dt id="c.crypto_free_akcipher">
void <code class="descname">crypto_free_akcipher</code><span class="sig-paren">(</span>struct crypto_akcipher *<em>&nbsp;tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_free_akcipher" title="Permalink to this definition">¶</a></dt>
<dd><p>free AKCIPHER tfm handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*</span> <span class="pre">tfm</span></code></dt>
<dd>AKCIPHER tfm handle allocated with <a class="reference internal" href="#c.crypto_alloc_akcipher" title="crypto_alloc_akcipher"><code class="xref c c-func docutils literal"><span class="pre">crypto_alloc_akcipher()</span></code></a></dd>
</dl>
<dl class="function">
<dt id="c.crypto_akcipher_maxsize">
unsigned int <code class="descname">crypto_akcipher_maxsize</code><span class="sig-paren">(</span>struct crypto_akcipher *<em>&nbsp;tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_maxsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Get len for output buffer</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*</span> <span class="pre">tfm</span></code></dt>
<dd>AKCIPHER tfm handle allocated with <a class="reference internal" href="#c.crypto_alloc_akcipher" title="crypto_alloc_akcipher"><code class="xref c c-func docutils literal"><span class="pre">crypto_alloc_akcipher()</span></code></a></dd>
</dl>
<p><strong>Description</strong></p>
<p>Function returns the dest buffer size required for a given key.
Function assumes that the key is already set in the transformation. If this
function is called without a setkey or with a failed setkey, you will end up
in a NULL dereference.</p>
<dl class="function">
<dt id="c.crypto_akcipher_encrypt">
int <code class="descname">crypto_akcipher_encrypt</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_encrypt" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke public key encrypt operation</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>asymmetric key request</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the specific public key encrypt operation for a given
public key algorithm</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
<dl class="function">
<dt id="c.crypto_akcipher_decrypt">
int <code class="descname">crypto_akcipher_decrypt</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_decrypt" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke public key decrypt operation</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>asymmetric key request</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the specific public key decrypt operation for a given
public key algorithm</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
<dl class="function">
<dt id="c.crypto_akcipher_sign">
int <code class="descname">crypto_akcipher_sign</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke public key sign operation</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>asymmetric key request</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the specific public key sign operation for a given
public key algorithm</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
<dl class="function">
<dt id="c.crypto_akcipher_verify">
int <code class="descname">crypto_akcipher_verify</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke public key verify operation</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>asymmetric key request</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the specific public key verify operation for a given
public key algorithm</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
<dl class="function">
<dt id="c.crypto_akcipher_set_pub_key">
int <code class="descname">crypto_akcipher_set_pub_key</code><span class="sig-paren">(</span>struct crypto_akcipher *<em>&nbsp;tfm</em>, const void *<em>&nbsp;key</em>, unsigned int<em>&nbsp;keylen</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_set_pub_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke set public key operation</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*</span> <span class="pre">tfm</span></code></dt>
<dd>tfm handle</dd>
<dt><code class="docutils literal"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*</span> <span class="pre">key</span></code></dt>
<dd>BER encoded public key</dd>
<dt><code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">keylen</span></code></dt>
<dd>length of the key</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the algorithm specific set key function, which knows
how to decode and interpret the encoded key</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
<dl class="function">
<dt id="c.crypto_akcipher_set_priv_key">
int <code class="descname">crypto_akcipher_set_priv_key</code><span class="sig-paren">(</span>struct crypto_akcipher *<em>&nbsp;tfm</em>, const void *<em>&nbsp;key</em>, unsigned int<em>&nbsp;keylen</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_set_priv_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke set private key operation</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*</span> <span class="pre">tfm</span></code></dt>
<dd>tfm handle</dd>
<dt><code class="docutils literal"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*</span> <span class="pre">key</span></code></dt>
<dd>BER encoded private key</dd>
<dt><code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">keylen</span></code></dt>
<dd>length of the key</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the algorithm specific set key function, which knows
how to decode and interpret the encoded key</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
</div>
<div class="section" id="asymmetric-cipher-request-handle">
<h1>Asymmetric Cipher Request Handle<a class="headerlink" href="#asymmetric-cipher-request-handle" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="c.akcipher_request_alloc">
struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> * <code class="descname">akcipher_request_alloc</code><span class="sig-paren">(</span>struct crypto_akcipher *<em>&nbsp;tfm</em>, gfp_t<em>&nbsp;gfp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>allocates public key request</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*</span> <span class="pre">tfm</span></code></dt>
<dd>AKCIPHER tfm handle allocated with <a class="reference internal" href="#c.crypto_alloc_akcipher" title="crypto_alloc_akcipher"><code class="xref c c-func docutils literal"><span class="pre">crypto_alloc_akcipher()</span></code></a></dd>
<dt><code class="docutils literal"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt>
<dd>allocation flags</dd>
</dl>
<p><strong>Return</strong></p>
<p>allocated handle in case of success or NULL in case of an error.</p>
<dl class="function">
<dt id="c.akcipher_request_free">
void <code class="descname">akcipher_request_free</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_free" title="Permalink to this definition">¶</a></dt>
<dd><p>zeroize and free public key request</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>request to free</dd>
</dl>
<dl class="function">
<dt id="c.akcipher_request_set_callback">
void <code class="descname">akcipher_request_set_callback</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em>, u32<em>&nbsp;flgs</em>, crypto_completion_t<em>&nbsp;cmpl</em>, void *<em>&nbsp;data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_set_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an asynchronous callback.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>request that the callback will be set for</dd>
<dt><code class="docutils literal"><span class="pre">u32</span> <span class="pre">flgs</span></code></dt>
<dd>specify for instance if the operation may backlog</dd>
<dt><code class="docutils literal"><span class="pre">crypto_completion_t</span> <span class="pre">cmpl</span></code></dt>
<dd>callback which will be called</dd>
<dt><code class="docutils literal"><span class="pre">void</span> <span class="pre">*</span> <span class="pre">data</span></code></dt>
<dd>private data used by the caller</dd>
</dl>
<p><strong>Description</strong></p>
<p>Callback will be called when an asynchronous operation on a given
request is finished.</p>
<dl class="function">
<dt id="c.akcipher_request_set_crypt">
void <code class="descname">akcipher_request_set_crypt</code><span class="sig-paren">(</span>struct <a class="reference internal" href="#c.akcipher_request" title="akcipher_request">akcipher_request</a> *<em>&nbsp;req</em>, struct scatterlist *<em>&nbsp;src</em>, struct scatterlist *<em>&nbsp;dst</em>, unsigned int<em>&nbsp;src_len</em>, unsigned int<em>&nbsp;dst_len</em><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_set_crypt" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets request parameters</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*</span> <span class="pre">req</span></code></dt>
<dd>public key request</dd>
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">scatterlist</span> <span class="pre">*</span> <span class="pre">src</span></code></dt>
<dd>ptr to input scatter list</dd>
<dt><code class="docutils literal"><span class="pre">struct</span> <span class="pre">scatterlist</span> <span class="pre">*</span> <span class="pre">dst</span></code></dt>
<dd>ptr to output scatter list</dd>
<dt><code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">src_len</span></code></dt>
<dd>size of the src input scatter list to be processed</dd>
<dt><code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">dst_len</span></code></dt>
<dd>size of the dst output scatter list</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets parameters required by crypto operation</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api-kpp.html" class="btn btn-neutral float-right" title="Key-agreement Protocol Primitives (KPP) Cipher Algorithm Definitions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api-rng.html" class="btn btn-neutral" title="Random Number Algorithm Definitions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>