

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating Pull Requests &mdash; The Linux Kernel  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="The Linux Kernel  documentation" href="../index.html"/>
        <link rel="up" title="Kernel Maintainer Handbook" href="index.html"/>
        <link rel="next" title="The Linux driver implementer’s API guide" href="../driver-api/index.html"/>
        <link rel="prev" title="Configure Git" href="configure-git.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.19.0-xilinx-v2019.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Linux kernel licensing rules</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user&#8217;s and administrator&#8217;s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Kernel Maintainer Handbook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configure-git.html">Configure Git</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Creating Pull Requests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-branch">Create Branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-pull-request">Create Pull Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#submit-pull-request">Submit Pull Request</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer&#8217;s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Linux Filesystems API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Filesystem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">The Linux Kernel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Kernel Maintainer Handbook</a> &raquo;</li>
      
    <li>Creating Pull Requests</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/maintainer/pull-requests.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-pull-requests">
<span id="pullrequests"></span><h1>Creating Pull Requests<a class="headerlink" href="#creating-pull-requests" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes how maintainers can create and submit pull requests
to other maintainers. This is useful for transferring changes from one
maintainers tree to another maintainers tree.</p>
<p>This document was written by Tobin C. Harding (who at that time, was not an
experienced maintainer) primarily from comments made by Greg Kroah-Hartman
and Linus Torvalds on LKML. Suggestions and fixes by Jonathan Corbet and
Mauro Carvalho Chehab.  Misrepresentation was unintentional but inevitable,
please direct abuse to Tobin C. Harding &lt;<a class="reference external" href="mailto:me&#37;&#52;&#48;tobin&#46;cc">me<span>&#64;</span>tobin<span>&#46;</span>cc</a>&gt;.</p>
<p>Original email thread:</p>
<div class="highlight-none"><div class="highlight"><pre>http://lkml.kernel.org/r/20171114110500.GA21175@kroah.com
</pre></div>
</div>
<div class="section" id="create-branch">
<h2>Create Branch<a class="headerlink" href="#create-branch" title="Permalink to this headline">¶</a></h2>
<p>To start with you will need to have all the changes you wish to include in
the pull request on a separate branch. Typically you will base this branch
off of a branch in the developers tree whom you intend to send the pull
request to.</p>
<p>In order to create the pull request you must first tag the branch that you
have just created. It is recommended that you choose a meaningful tag name,
in a way that you and others can understand, even after some time.  A good
practice is to include in the name an indicator of the sybsystem of origin
and the target kernel version.</p>
<p>Greg offers the following. A pull request with miscellaneous stuff for
drivers/char, to be applied at the Kernel version 4.15-rc1 could be named
as <code class="docutils literal"><span class="pre">char-misc-4.15-rc1</span></code>. If such tag would be produced from a branch
named <code class="docutils literal"><span class="pre">char-misc-next</span></code>, you would be using the following command:</p>
<div class="highlight-none"><div class="highlight"><pre>git tag -s char-misc-4.15-rc1 char-misc-next
</pre></div>
</div>
<p>that will create a signed tag called <code class="docutils literal"><span class="pre">char-misc-4.15-rc1</span></code> based on the
last commit in the <code class="docutils literal"><span class="pre">char-misc-next</span></code> branch, and sign it with your gpg key
(see <a class="reference internal" href="configure-git.html#configuregit"><span>Documentation/maintainer/configure-git.rst</span></a>).</p>
<p>Linus will only accept pull requests based on a signed tag. Other
maintainers may differ.</p>
<p>When you run the above command <code class="docutils literal"><span class="pre">git</span></code> will drop you into an editor and ask
you to describe the tag.  In this case, you are describing a pull request,
so outline what is contained here, why it should be merged, and what, if
any, testing has been done.  All of this information will end up in the tag
itself, and then in the merge commit that the maintainer makes if/when they
merge the pull request. So write it up well, as it will be in the kernel
tree for forever.</p>
<p>As said by Linus:</p>
<div class="highlight-none"><div class="highlight"><pre>Anyway, at least to me, the important part is the *message*. I want
to understand what I&#39;m pulling, and why I should pull it. I also
want to use that message as the message for the merge, so it should
not just make sense to me, but make sense as a historical record
too.

Note that if there is something odd about the pull request, that
should very much be in the explanation. If you&#39;re touching files
that you don&#39;t maintain, explain _why_. I will see it in the
diffstat anyway, and if you didn&#39;t mention it, I&#39;ll just be extra
suspicious.  And when you send me new stuff after the merge window
(or even bug-fixes, but ones that look scary), explain not just
what they do and why they do it, but explain the _timing_. What
happened that this didn&#39;t go through the merge window..

I will take both what you write in the email pull request _and_ in
the signed tag, so depending on your workflow, you can either
describe your work in the signed tag (which will also automatically
make it into the pull request email), or you can make the signed
tag just a placeholder with nothing interesting in it, and describe
the work later when you actually send me the pull request.

And yes, I will edit the message. Partly because I tend to do just
trivial formatting (the whole indentation and quoting etc), but
partly because part of the message may make sense for me at pull
time (describing the conflicts and your personal issues for sending
it right now), but may not make sense in the context of a merge
commit message, so I will try to make it all make sense. I will
also fix any speeling mistaeks and bad grammar I notice,
particularly for non-native speakers (but also for native ones
;^). But I may miss some, or even add some.

                Linus
</pre></div>
</div>
<p>Greg gives, as an example pull request:</p>
<div class="highlight-none"><div class="highlight"><pre>Char/Misc patches for 4.15-rc1

Here is the big char/misc patch set for the 4.15-rc1 merge window.
Contained in here is the normal set of new functions added to all
of these crazy drivers, as well as the following brand new
subsystems:
        - time_travel_controller: Finally a set of drivers for the
          latest time travel bus architecture that provides i/o to
          the CPU before it asked for it, allowing uninterrupted
          processing
        - relativity_shifters: due to the affect that the
          time_travel_controllers have on the overall system, there
          was a need for a new set of relativity shifter drivers to
          accommodate the newly formed black holes that would
          threaten to suck CPUs into them.  This subsystem handles
          this in a way to successfully neutralize the problems.
          There is a Kconfig option to force these to be enabled
          when needed, so problems should not occur.

All of these patches have been successfully tested in the latest
linux-next releases, and the original problems that it found have
all been resolved (apologies to anyone living near Canberra for the
lack of the Kconfig options in the earlier versions of the
linux-next tree creations.)

Signed-off-by: Your-name-here &lt;your_email@domain&gt;
</pre></div>
</div>
<p>The tag message format is just like a git commit id.  One line at the top
for a &#8220;summary subject&#8221; and be sure to sign-off at the bottom.</p>
<p>Now that you have a local signed tag, you need to push it up to where it
can be retrieved:</p>
<div class="highlight-none"><div class="highlight"><pre>git push origin char-misc-4.15-rc1
</pre></div>
</div>
</div>
<div class="section" id="create-pull-request">
<h2>Create Pull Request<a class="headerlink" href="#create-pull-request" title="Permalink to this headline">¶</a></h2>
<p>The last thing to do is create the pull request message.  <code class="docutils literal"><span class="pre">git</span></code> handily
will do this for you with the <code class="docutils literal"><span class="pre">git</span> <span class="pre">request-pull</span></code> command, but it needs a
bit of help determining what you want to pull, and on what to base the pull
against (to show the correct changes to be pulled and the diffstat). The
following command(s) will generate a pull request:</p>
<div class="highlight-none"><div class="highlight"><pre>git request-pull master git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/char-misc.git/ char-misc-4.15-rc1
</pre></div>
</div>
<p>Quoting Greg:</p>
<div class="highlight-none"><div class="highlight"><pre>This is asking git to compare the difference from the
&#39;char-misc-4.15-rc1&#39; tag location, to the head of the &#39;master&#39;
branch (which in my case points to the last location in Linus&#39;s
tree that I diverged from, usually a -rc release) and to use the
git:// protocol to pull from.  If you wish to use https://, that
can be used here instead as well (but note that some people behind
firewalls will have problems with https git pulls).

If the char-misc-4.15-rc1 tag is not present in the repo that I am
asking to be pulled from, git will complain saying it is not there,
a handy way to remember to actually push it to a public location.

The output of &#39;git request-pull&#39; will contain the location of the
git tree and specific tag to pull from, and the full text
description of that tag (which is why you need to provide good
information in that tag).  It will also create a diffstat of the
pull request, and a shortlog of the individual commits that the
pull request will provide.
</pre></div>
</div>
<p>Linus responded that he tends to prefer the <code class="docutils literal"><span class="pre">git://</span></code> protocol. Other
maintainers may have different preferences. Also, note that if you are
creating pull requests without a signed tag then <code class="docutils literal"><span class="pre">https://</span></code> may be a
better choice. Please see the original thread for the full discussion.</p>
</div>
<div class="section" id="submit-pull-request">
<h2>Submit Pull Request<a class="headerlink" href="#submit-pull-request" title="Permalink to this headline">¶</a></h2>
<p>A pull request is submitted in the same way as an ordinary patch. Send as
inline email to the maintainer and CC LKML and any sub-system specific
lists if required. Pull requests to Linus typically have a subject line
something like:</p>
<div class="highlight-none"><div class="highlight"><pre>[GIT PULL] &lt;subsystem&gt; changes for v4.15-rc1
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../driver-api/index.html" class="btn btn-neutral float-right" title="The Linux driver implementer’s API guide" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configure-git.html" class="btn btn-neutral" title="Configure Git" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>