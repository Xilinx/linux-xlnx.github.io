

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Low latency, multichannel audio with JACK and the emu10k1/emu10k2 &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="VIA82xx mixer" href="via82xx-mixer.html" />
    <link rel="prev" title="Sound Blaster Audigy mixer / default DSP code" href="audigy-mixer.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.14.0-xilinx-v2018.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux Sound Subsystem Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../kernel-api/index.html">ALSA Kernel API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../designs/index.html">Designs and Implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../soc/index.html">ALSA SoC Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alsa-configuration.html">Advanced Linux Sound Architecture - Driver Configuration guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hd-audio/index.html">HD-Audio</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Card-Specific Information</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="joystick.html">Analog Joystick Support on ALSA Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmipci.html">Brief Notes on C-Media 8338/8738/8768/8770 Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sb-live-mixer.html">Sound Blaster Live mixer / default DSP code</a></li>
<li class="toctree-l3"><a class="reference internal" href="audigy-mixer.html">Sound Blaster Audigy mixer / default DSP code</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Low latency, multichannel audio with JACK and the emu10k1/emu10k2</a></li>
<li class="toctree-l3"><a class="reference internal" href="via82xx-mixer.html">VIA82xx mixer</a></li>
<li class="toctree-l3"><a class="reference internal" href="audiophile-usb.html">Guide to using M-Audio Audiophile USB with ALSA and Jack</a></li>
<li class="toctree-l3"><a class="reference internal" href="mixart.html">Alsa driver for Digigram miXart8 and miXart8AES/EBU soundcards</a></li>
<li class="toctree-l3"><a class="reference internal" href="bt87x.html">ALSA BT87x Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="maya44.html">Notes on Maya44 USB Audio Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="hdspm.html">Software Interface ALSA-DSP MADI Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="serial-u16550.html">Serial UART 16450/16550 MIDI driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="img-spdif-in.html">Imagination Technologies SPDIF Input Controllers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Linux Filesystems API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/ko_KR/index.html">Korean translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/zh_CN/index.html">Chinese translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/ja_JP/index.html">Japanese translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Linux Sound Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="index.html">Card-Specific Information</a> &raquo;</li>
        
      <li>Low latency, multichannel audio with JACK and the emu10k1/emu10k2</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/sound/cards/emu10k1-jack.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="low-latency-multichannel-audio-with-jack-and-the-emu10k1-emu10k2">
<h1>Low latency, multichannel audio with JACK and the emu10k1/emu10k2<a class="headerlink" href="#low-latency-multichannel-audio-with-jack-and-the-emu10k1-emu10k2" title="Permalink to this headline">¶</a></h1>
<p>This document is a guide to using the emu10k1 based devices with JACK for low
latency, multichannel recording functionality.  All of my recent work to allow
Linux users to use the full capabilities of their hardware has been inspired
by the kX Project.  Without their work I never would have discovered the true
power of this hardware.</p>
<blockquote>
<div><dl class="docutils">
<dt><a class="reference external" href="http://www.kxproject.com">http://www.kxproject.com</a></dt>
<dd><ul class="first last simple">
<li>Lee Revell, 2005.03.30</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>Until recently, emu10k1 users on Linux did not have access to the same low
latency, multichannel features offered by the “kX ASIO” feature of their
Windows driver.  As of ALSA 1.0.9 this is no more!</p>
<p>For those unfamiliar with kX ASIO, this consists of 16 capture and 16 playback
channels.  With a post 2.6.9 Linux kernel, latencies down to 64 (1.33 ms) or
even 32 (0.66ms) frames should work well.</p>
<p>The configuration is slightly more involved than on Windows, as you have to
select the correct device for JACK to use.  Actually, for qjackctl users it’s
fairly self explanatory - select Duplex, then for capture and playback select
the multichannel devices, set the in and out channels to 16, and the sample
rate to 48000Hz.  The command line looks like this:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>/usr/local/bin/jackd -R -dalsa -r48000 -p64 -n2 -D -Chw:0,2 -Phw:0,3 -S
</pre></div>
</div>
<p>This will give you 16 input ports and 16 output ports.</p>
<p>The 16 output ports map onto the 16 FX buses (or the first 16 of 64, for the
Audigy).  The mapping from FX bus to physical output is described in
sb-live-mixer.rst (or audigy-mixer.rst).</p>
<p>The 16 input ports are connected to the 16 physical inputs.  Contrary to
popular belief, all emu10k1 cards are multichannel cards.  Which of these
input channels have physical inputs connected to them depends on the card
model.  Trial and error is highly recommended; the pinout diagrams
for the card have been reverse engineered by some enterprising kX users and are
available on the internet.  Meterbridge is helpful here, and the kX forums are
packed with useful information.</p>
<p>Each input port will either correspond to a digital (SPDIF) input, an analog
input, or nothing.  The one exception is the SBLive! 5.1.  On these devices,
the second and third input ports are wired to the center/LFE output.  You will
still see 16 capture channels, but only 14 are available for recording inputs.</p>
<p>This chart, borrowed from kxfxlib/da_asio51.cpp, describes the mapping of JACK
ports to FXBUS2 (multitrack recording input) and EXTOUT (physical output)
channels.</p>
<p>JACK (&amp; ASIO) mappings on 10k1 5.1 SBLive cards:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="13%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">JACK</th>
<th class="head">Epilog</th>
<th class="head">FXBUS2(nr)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>capture_1</td>
<td>asio14</td>
<td>FXBUS2(0xe)</td>
</tr>
<tr class="row-odd"><td>capture_2</td>
<td>asio15</td>
<td>FXBUS2(0xf)</td>
</tr>
<tr class="row-even"><td>capture_3</td>
<td>asio0</td>
<td>FXBUS2(0x0)</td>
</tr>
<tr class="row-odd"><td>~capture_4</td>
<td>Center</td>
<td>EXTOUT(0x11)    // mapped to by Center</td>
</tr>
<tr class="row-even"><td>~capture_5</td>
<td>LFE</td>
<td>EXTOUT(0x12)    // mapped to by LFE</td>
</tr>
<tr class="row-odd"><td>capture_6</td>
<td>asio3</td>
<td>FXBUS2(0x3)</td>
</tr>
<tr class="row-even"><td>capture_7</td>
<td>asio4</td>
<td>FXBUS2(0x4)</td>
</tr>
<tr class="row-odd"><td>capture_8</td>
<td>asio5</td>
<td>FXBUS2(0x5)</td>
</tr>
<tr class="row-even"><td>capture_9</td>
<td>asio6</td>
<td>FXBUS2(0x6)</td>
</tr>
<tr class="row-odd"><td>capture_10</td>
<td>asio7</td>
<td>FXBUS2(0x7)</td>
</tr>
<tr class="row-even"><td>capture_11</td>
<td>asio8</td>
<td>FXBUS2(0x8)</td>
</tr>
<tr class="row-odd"><td>capture_12</td>
<td>asio9</td>
<td>FXBUS2(0x9)</td>
</tr>
<tr class="row-even"><td>capture_13</td>
<td>asio10</td>
<td>FXBUS2(0xa)</td>
</tr>
<tr class="row-odd"><td>capture_14</td>
<td>asio11</td>
<td>FXBUS2(0xb)</td>
</tr>
<tr class="row-even"><td>capture_15</td>
<td>asio12</td>
<td>FXBUS2(0xc)</td>
</tr>
<tr class="row-odd"><td>capture_16</td>
<td>asio13</td>
<td>FXBUS2(0xd)</td>
</tr>
</tbody>
</table>
<p>TODO: describe use of ld10k1/qlo10k1 in conjunction with JACK</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="via82xx-mixer.html" class="btn btn-neutral float-right" title="VIA82xx mixer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="audigy-mixer.html" class="btn btn-neutral" title="Sound Blaster Audigy mixer / default DSP code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>