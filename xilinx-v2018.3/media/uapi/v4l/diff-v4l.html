

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.1. Differences between V4L and V4L2 &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="6.2. Changes of the V4L2 API" href="hist-v4l2.html" />
    <link rel="prev" title="6. Changes" href="compat.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.14.0-xilinx-v2018.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../media_uapi.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v4l2.html">Part I - Video for Linux API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="common.html">1. Common API Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="pixfmt.html">2. Image Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html">3. Input/Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="devices.html">4. Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="libv4l.html">5. Libv4l Userspace Library</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="compat.html">6. Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-func.html">7. Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-defs.html">8. Common definitions for V4L2 and V4L2 subdev interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="videodev.html">9. Video For Linux Two Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="capture-example.html">10. Video Capture Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2grab-example.html">11. Video Grabber example using libv4l</a></li>
<li class="toctree-l4"><a class="reference internal" href="biblio.html">12. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../dvb/dvbapi.html">Part II - Digital TV API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cec/cec-api.html">Part V - Consumer Electronics Control API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cec-drivers/index.html">CEC driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Linux Filesystems API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/ko_KR/index.html">Korean translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/zh_CN/index.html">Chinese translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/ja_JP/index.html">Japanese translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="../../media_uapi.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
        
          <li><a href="v4l2.html">Part I - Video for Linux API</a> &raquo;</li>
        
          <li><a href="compat.html">6. Changes</a> &raquo;</li>
        
      <li>6.1. Differences between V4L and V4L2</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/media/uapi/v4l/diff-v4l.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="differences-between-v4l-and-v4l2">
<span id="diff-v4l"></span><h1>6.1. Differences between V4L and V4L2<a class="headerlink" href="#differences-between-v4l-and-v4l2" title="Permalink to this headline">¶</a></h1>
<p>The Video For Linux API was first introduced in Linux 2.1 to unify and
replace various TV and radio device related interfaces, developed
independently by driver writers in prior years. Starting with Linux 2.5
the much improved V4L2 API replaces the V4L API. The support for the old
V4L calls were removed from Kernel, but the library <a class="reference internal" href="libv4l.html#libv4l"><span class="std std-ref">Libv4l Userspace Library</span></a>
supports the conversion of a V4L API system call into a V4L2 one.</p>
<div class="section" id="opening-and-closing-devices">
<h2>6.1.1. Opening and Closing Devices<a class="headerlink" href="#opening-and-closing-devices" title="Permalink to this headline">¶</a></h2>
<p>For compatibility reasons the character device file names recommended
for V4L2 video capture, overlay, radio and raw vbi capture devices did
not change from those used by V4L. They are listed in <a class="reference internal" href="devices.html#devices"><span class="std std-ref">Interfaces</span></a>
and below in <a class="reference internal" href="#v4l-dev"><span class="std std-ref">V4L Device Types, Names and Numbers</span></a>.</p>
<p>The teletext devices (minor range 192-223) have been removed in V4L2 and
no longer exist. There is no hardware available anymore for handling
pure teletext. Instead raw or sliced VBI is used.</p>
<p>The V4L <code class="docutils literal"><span class="pre">videodev</span></code> module automatically assigns minor numbers to
drivers in load order, depending on the registered device type. We
recommend that V4L2 drivers by default register devices with the same
numbers, but the system administrator can assign arbitrary minor numbers
using driver module options. The major device number remains 81.</p>
<span id="v4l-dev"></span><table border="1" class="docutils" id="id10">
<caption><span class="caption-text">V4L Device Types, Names and Numbers</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Device Type</th>
<th class="head">File Name</th>
<th class="head">Minor Numbers</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Video capture and overlay</td>
<td><code class="docutils literal"><span class="pre">/dev/video</span></code> and <code class="docutils literal"><span class="pre">/dev/bttv0</span></code> <a class="footnote-reference" href="#f1" id="id1">[1]</a>, <code class="docutils literal"><span class="pre">/dev/video0</span></code> to
<code class="docutils literal"><span class="pre">/dev/video63</span></code></td>
<td>0-63</td>
</tr>
<tr class="row-odd"><td>Radio receiver</td>
<td><code class="docutils literal"><span class="pre">/dev/radio</span></code> <a class="footnote-reference" href="#f2" id="id2">[2]</a>, <code class="docutils literal"><span class="pre">/dev/radio0</span></code> to <code class="docutils literal"><span class="pre">/dev/radio63</span></code></td>
<td>64-127</td>
</tr>
<tr class="row-even"><td>Raw VBI capture</td>
<td><code class="docutils literal"><span class="pre">/dev/vbi</span></code>, <code class="docutils literal"><span class="pre">/dev/vbi0</span></code> to <code class="docutils literal"><span class="pre">/dev/vbi31</span></code></td>
<td>224-255</td>
</tr>
</tbody>
</table>
<p>V4L prohibits (or used to prohibit) multiple opens of a device file.
V4L2 drivers <em>may</em> support multiple opens, see <a class="reference internal" href="open.html#open"><span class="std std-ref">Opening and Closing Devices</span></a> for details
and consequences.</p>
<p>V4L drivers respond to V4L2 ioctls with an <code class="docutils literal"><span class="pre">EINVAL</span></code> error code.</p>
</div>
<div class="section" id="querying-capabilities">
<h2>6.1.2. Querying Capabilities<a class="headerlink" href="#querying-capabilities" title="Permalink to this headline">¶</a></h2>
<p>The V4L <code class="docutils literal"><span class="pre">VIDIOCGCAP</span></code> ioctl is equivalent to V4L2’s
<a class="reference internal" href="vidioc-querycap.html#vidioc-querycap"><span class="std std-ref">ioctl VIDIOC_QUERYCAP</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">name</span></code> field in struct <code class="docutils literal"><span class="pre">video_capability</span></code> became
<code class="docutils literal"><span class="pre">card</span></code> in struct <a class="reference internal" href="vidioc-querycap.html#c.v4l2_capability" title="v4l2_capability"><code class="xref c c-type docutils literal"><span class="pre">v4l2_capability</span></code></a>, <code class="docutils literal"><span class="pre">type</span></code>
was replaced by <code class="docutils literal"><span class="pre">capabilities</span></code>. Note V4L2 does not distinguish between
device types like this, better think of basic video input, video output
and radio devices supporting a set of related functions like video
capturing, video overlay and VBI capturing. See <a class="reference internal" href="open.html#open"><span class="std std-ref">Opening and Closing Devices</span></a> for an
introduction.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><code class="docutils literal"><span class="pre">struct</span> <span class="pre">video_capability</span></code> <code class="docutils literal"><span class="pre">type</span></code></th>
<th class="head">struct <a class="reference internal" href="vidioc-querycap.html#c.v4l2_capability" title="v4l2_capability"><code class="xref c c-type docutils literal"><span class="pre">v4l2_capability</span></code></a>
<code class="docutils literal"><span class="pre">capabilities</span></code> flags</th>
<th class="head">Purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_CAPTURE</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CAP_VIDEO_CAPTURE</span></code></td>
<td>The <a class="reference internal" href="dev-capture.html#capture"><span class="std std-ref">video capture</span></a> interface is supported.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_TUNER</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CAP_TUNER</span></code></td>
<td>The device has a <a class="reference internal" href="tuner.html#tuner"><span class="std std-ref">tuner or modulator</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_TELETEXT</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CAP_VBI_CAPTURE</span></code></td>
<td>The <a class="reference internal" href="dev-raw-vbi.html#raw-vbi"><span class="std std-ref">raw VBI capture</span></a> interface is supported.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_OVERLAY</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CAP_VIDEO_OVERLAY</span></code></td>
<td>The <a class="reference internal" href="dev-overlay.html#overlay"><span class="std std-ref">video overlay</span></a> interface is supported.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_CHROMAKEY</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_FBUF_CAP_CHROMAKEY</span></code> in field <code class="docutils literal"><span class="pre">capability</span></code> of struct
<a class="reference internal" href="vidioc-g-fbuf.html#c.v4l2_framebuffer" title="v4l2_framebuffer"><code class="xref c c-type docutils literal"><span class="pre">v4l2_framebuffer</span></code></a></td>
<td>Whether chromakey overlay is supported. For more information on
overlay see <a class="reference internal" href="dev-overlay.html#overlay"><span class="std std-ref">Video Overlay Interface</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_CLIPPING</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_FBUF_CAP_LIST_CLIPPING</span></code> and
<code class="docutils literal"><span class="pre">V4L2_FBUF_CAP_BITMAP_CLIPPING</span></code> in field <code class="docutils literal"><span class="pre">capability</span></code> of
struct <a class="reference internal" href="vidioc-g-fbuf.html#c.v4l2_framebuffer" title="v4l2_framebuffer"><code class="xref c c-type docutils literal"><span class="pre">v4l2_framebuffer</span></code></a></td>
<td>Whether clipping the overlaid image is supported, see
<a class="reference internal" href="dev-overlay.html#overlay"><span class="std std-ref">Video Overlay Interface</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_FRAMERAM</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_FBUF_CAP_EXTERNOVERLAY</span></code> <em>not set</em> in field <code class="docutils literal"><span class="pre">capability</span></code>
of struct <a class="reference internal" href="vidioc-g-fbuf.html#c.v4l2_framebuffer" title="v4l2_framebuffer"><code class="xref c c-type docutils literal"><span class="pre">v4l2_framebuffer</span></code></a></td>
<td>Whether overlay overwrites frame buffer memory, see
<a class="reference internal" href="dev-overlay.html#overlay"><span class="std std-ref">Video Overlay Interface</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_SCALES</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>This flag indicates if the hardware can scale images. The V4L2 API
implies the scale factor by setting the cropping dimensions and
image size with the <a class="reference internal" href="vidioc-g-crop.html#vidioc-g-crop"><span class="std std-ref">VIDIOC_S_CROP</span></a> and
<a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a> ioctl, respectively. The
driver returns the closest sizes possible. For more information on
cropping and scaling see <a class="reference internal" href="crop.html#crop"><span class="std std-ref">Image Cropping, Insertion and Scaling</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_MONOCHROME</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>Applications can enumerate the supported image formats with the
<a class="reference internal" href="vidioc-enum-fmt.html#vidioc-enum-fmt"><span class="std std-ref">ioctl VIDIOC_ENUM_FMT</span></a> ioctl to determine if
the device supports grey scale capturing only. For more
information on image formats see <a class="reference internal" href="pixfmt.html#pixfmt"><span class="std std-ref">Image Formats</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_SUBCAPTURE</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>Applications can call the <a class="reference internal" href="vidioc-g-crop.html#vidioc-g-crop"><span class="std std-ref">VIDIOC_G_CROP</span></a>
ioctl to determine if the device supports capturing a subsection
of the full picture (“cropping” in V4L2). If not, the ioctl
returns the <code class="docutils literal"><span class="pre">EINVAL</span></code> error code. For more information on cropping
and scaling see <a class="reference internal" href="crop.html#crop"><span class="std std-ref">Image Cropping, Insertion and Scaling</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_MPEG_DECODER</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>Applications can enumerate the supported image formats with the
<a class="reference internal" href="vidioc-enum-fmt.html#vidioc-enum-fmt"><span class="std std-ref">ioctl VIDIOC_ENUM_FMT</span></a> ioctl to determine if
the device supports MPEG streams.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_MPEG_ENCODER</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>See above.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VID_TYPE_MJPEG_DECODER</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>See above.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VID_TYPE_MJPEG_ENCODER</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>See above.</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">audios</span></code> field was replaced by <code class="docutils literal"><span class="pre">capabilities</span></code> flag
<code class="docutils literal"><span class="pre">V4L2_CAP_AUDIO</span></code>, indicating <em>if</em> the device has any audio inputs or
outputs. To determine their number applications can enumerate audio
inputs with the <a class="reference internal" href="vidioc-g-audio.html#vidioc-g-audio"><span class="std std-ref">VIDIOC_G_AUDIO</span></a> ioctl. The
audio ioctls are described in <a class="reference internal" href="audio.html#audio"><span class="std std-ref">Audio Inputs and Outputs</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">maxwidth</span></code>, <code class="docutils literal"><span class="pre">maxheight</span></code>, <code class="docutils literal"><span class="pre">minwidth</span></code> and <code class="docutils literal"><span class="pre">minheight</span></code> fields
were removed. Calling the <a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a> or
<a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_TRY_FMT</span></a> ioctl with the desired
dimensions returns the closest size possible, taking into account the
current video standard, cropping and scaling limitations.</p>
</div>
<div class="section" id="video-sources">
<h2>6.1.3. Video Sources<a class="headerlink" href="#video-sources" title="Permalink to this headline">¶</a></h2>
<p>V4L provides the <code class="docutils literal"><span class="pre">VIDIOCGCHAN</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSCHAN</span></code> ioctl using struct
<code class="docutils literal"><span class="pre">video_channel</span></code> to enumerate the video inputs of a V4L
device. The equivalent V4L2 ioctls are
<a class="reference internal" href="vidioc-enuminput.html#vidioc-enuminput"><span class="std std-ref">ioctl VIDIOC_ENUMINPUT</span></a>,
<a class="reference internal" href="vidioc-g-input.html#vidioc-g-input"><span class="std std-ref">VIDIOC_G_INPUT</span></a> and
<a class="reference internal" href="vidioc-g-input.html#vidioc-g-input"><span class="std std-ref">VIDIOC_S_INPUT</span></a> using struct
<a class="reference internal" href="vidioc-enuminput.html#c.v4l2_input" title="v4l2_input"><code class="xref c c-type docutils literal"><span class="pre">v4l2_input</span></code></a> as discussed in <a class="reference internal" href="video.html#video"><span class="std std-ref">Video Inputs and Outputs</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">channel</span></code> field counting inputs was renamed to <code class="docutils literal"><span class="pre">index</span></code>, the
video input types were renamed as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">struct <code class="docutils literal"><span class="pre">video_channel</span></code> <code class="docutils literal"><span class="pre">type</span></code></th>
<th class="head">struct <a class="reference internal" href="vidioc-enuminput.html#c.v4l2_input" title="v4l2_input"><code class="xref c c-type docutils literal"><span class="pre">v4l2_input</span></code></a> <code class="docutils literal"><span class="pre">type</span></code></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_TYPE_TV</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_INPUT_TYPE_TUNER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_TYPE_CAMERA</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_INPUT_TYPE_CAMERA</span></code></td>
</tr>
</tbody>
</table>
<p>Unlike the <code class="docutils literal"><span class="pre">tuners</span></code> field expressing the number of tuners of this
input, V4L2 assumes each video input is connected to at most one tuner.
However a tuner can have more than one input, i. e. RF connectors, and a
device can have multiple tuners. The index number of the tuner
associated with the input, if any, is stored in field <code class="docutils literal"><span class="pre">tuner</span></code> of
struct <a class="reference internal" href="vidioc-enuminput.html#c.v4l2_input" title="v4l2_input"><code class="xref c c-type docutils literal"><span class="pre">v4l2_input</span></code></a>. Enumeration of tuners is
discussed in <a class="reference internal" href="tuner.html#tuner"><span class="std std-ref">Tuners and Modulators</span></a>.</p>
<p>The redundant <code class="docutils literal"><span class="pre">VIDEO_VC_TUNER</span></code> flag was dropped. Video inputs
associated with a tuner are of type <code class="docutils literal"><span class="pre">V4L2_INPUT_TYPE_TUNER</span></code>. The
<code class="docutils literal"><span class="pre">VIDEO_VC_AUDIO</span></code> flag was replaced by the <code class="docutils literal"><span class="pre">audioset</span></code> field. V4L2
considers devices with up to 32 audio inputs. Each set bit in the
<code class="docutils literal"><span class="pre">audioset</span></code> field represents one audio input this video input combines
with. For information about audio inputs and how to switch between them
see <a class="reference internal" href="audio.html#audio"><span class="std std-ref">Audio Inputs and Outputs</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">norm</span></code> field describing the supported video standards was replaced
by <code class="docutils literal"><span class="pre">std</span></code>. The V4L specification mentions a flag <code class="docutils literal"><span class="pre">VIDEO_VC_NORM</span></code>
indicating whether the standard can be changed. This flag was a later
addition together with the <code class="docutils literal"><span class="pre">norm</span></code> field and has been removed in the
meantime. V4L2 has a similar, albeit more comprehensive approach to
video standards, see <a class="reference internal" href="standard.html#standard"><span class="std std-ref">Video Standards</span></a> for more information.</p>
</div>
<div class="section" id="tuning">
<h2>6.1.4. Tuning<a class="headerlink" href="#tuning" title="Permalink to this headline">¶</a></h2>
<p>The V4L <code class="docutils literal"><span class="pre">VIDIOCGTUNER</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSTUNER</span></code> ioctl and struct
<code class="docutils literal"><span class="pre">video_tuner</span></code> can be used to enumerate the tuners of a
V4L TV or radio device. The equivalent V4L2 ioctls are
<a class="reference internal" href="vidioc-g-tuner.html#vidioc-g-tuner"><span class="std std-ref">VIDIOC_G_TUNER</span></a> and
<a class="reference internal" href="vidioc-g-tuner.html#vidioc-g-tuner"><span class="std std-ref">VIDIOC_S_TUNER</span></a> using struct
<a class="reference internal" href="vidioc-g-tuner.html#c.v4l2_tuner" title="v4l2_tuner"><code class="xref c c-type docutils literal"><span class="pre">v4l2_tuner</span></code></a>. Tuners are covered in <a class="reference internal" href="tuner.html#tuner"><span class="std std-ref">Tuners and Modulators</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">tuner</span></code> field counting tuners was renamed to <code class="docutils literal"><span class="pre">index</span></code>. The fields
<code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">rangelow</span></code> and <code class="docutils literal"><span class="pre">rangehigh</span></code> remained unchanged.</p>
<p>The <code class="docutils literal"><span class="pre">VIDEO_TUNER_PAL</span></code>, <code class="docutils literal"><span class="pre">VIDEO_TUNER_NTSC</span></code> and <code class="docutils literal"><span class="pre">VIDEO_TUNER_SECAM</span></code>
flags indicating the supported video standards were dropped. This
information is now contained in the associated struct
<a class="reference internal" href="vidioc-enuminput.html#c.v4l2_input" title="v4l2_input"><code class="xref c c-type docutils literal"><span class="pre">v4l2_input</span></code></a>. No replacement exists for the
<code class="docutils literal"><span class="pre">VIDEO_TUNER_NORM</span></code> flag indicating whether the video standard can be
switched. The <code class="docutils literal"><span class="pre">mode</span></code> field to select a different video standard was
replaced by a whole new set of ioctls and structures described in
<a class="reference internal" href="standard.html#standard"><span class="std std-ref">Video Standards</span></a>. Due to its ubiquity it should be mentioned the BTTV
driver supports several standards in addition to the regular
<code class="docutils literal"><span class="pre">VIDEO_MODE_PAL</span></code> (0), <code class="docutils literal"><span class="pre">VIDEO_MODE_NTSC</span></code>, <code class="docutils literal"><span class="pre">VIDEO_MODE_SECAM</span></code> and
<code class="docutils literal"><span class="pre">VIDEO_MODE_AUTO</span></code> (3). Namely N/PAL Argentina, M/PAL, N/PAL, and NTSC
Japan with numbers 3-6 (sic).</p>
<p>The <code class="docutils literal"><span class="pre">VIDEO_TUNER_STEREO_ON</span></code> flag indicating stereo reception became
<code class="docutils literal"><span class="pre">V4L2_TUNER_SUB_STEREO</span></code> in field <code class="docutils literal"><span class="pre">rxsubchans</span></code>. This field also
permits the detection of monaural and bilingual audio, see the
definition of struct <a class="reference internal" href="vidioc-g-tuner.html#c.v4l2_tuner" title="v4l2_tuner"><code class="xref c c-type docutils literal"><span class="pre">v4l2_tuner</span></code></a> for details.
Presently no replacement exists for the <code class="docutils literal"><span class="pre">VIDEO_TUNER_RDS_ON</span></code> and
<code class="docutils literal"><span class="pre">VIDEO_TUNER_MBS_ON</span></code> flags.</p>
<p>The <code class="docutils literal"><span class="pre">VIDEO_TUNER_LOW</span></code> flag was renamed to <code class="docutils literal"><span class="pre">V4L2_TUNER_CAP_LOW</span></code> in
the struct <a class="reference internal" href="vidioc-g-tuner.html#c.v4l2_tuner" title="v4l2_tuner"><code class="xref c c-type docutils literal"><span class="pre">v4l2_tuner</span></code></a> <code class="docutils literal"><span class="pre">capability</span></code> field.</p>
<p>The <code class="docutils literal"><span class="pre">VIDIOCGFREQ</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSFREQ</span></code> ioctl to change the tuner
frequency where renamed to
<a class="reference internal" href="vidioc-g-frequency.html#vidioc-g-frequency"><span class="std std-ref">VIDIOC_G_FREQUENCY</span></a> and
<a class="reference internal" href="vidioc-g-frequency.html#vidioc-g-frequency"><span class="std std-ref">VIDIOC_S_FREQUENCY</span></a>. They take a pointer
to a struct <a class="reference internal" href="vidioc-g-frequency.html#c.v4l2_frequency" title="v4l2_frequency"><code class="xref c c-type docutils literal"><span class="pre">v4l2_frequency</span></code></a> instead of an
unsigned long integer.</p>
</div>
<div class="section" id="image-properties">
<span id="v4l-image-properties"></span><h2>6.1.5. Image Properties<a class="headerlink" href="#image-properties" title="Permalink to this headline">¶</a></h2>
<p>V4L2 has no equivalent of the <code class="docutils literal"><span class="pre">VIDIOCGPICT</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSPICT</span></code> ioctl
and struct <code class="docutils literal"><span class="pre">video_picture</span></code>. The following fields where
replaced by V4L2 controls accessible with the
<a class="reference internal" href="vidioc-queryctrl.html#vidioc-queryctrl"><span class="std std-ref">ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU</span></a>,
<a class="reference internal" href="vidioc-g-ctrl.html#vidioc-g-ctrl"><span class="std std-ref">VIDIOC_G_CTRL</span></a> and
<a class="reference internal" href="vidioc-g-ctrl.html#vidioc-g-ctrl"><span class="std std-ref">VIDIOC_S_CTRL</span></a> ioctls:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">struct <code class="docutils literal"><span class="pre">video_picture</span></code></th>
<th class="head">V4L2 Control ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">brightness</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_BRIGHTNESS</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">hue</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_HUE</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">colour</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_SATURATION</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">contrast</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_CONTRAST</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">whiteness</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_WHITENESS</span></code></td>
</tr>
</tbody>
</table>
<p>The V4L picture controls are assumed to range from 0 to 65535 with no
particular reset value. The V4L2 API permits arbitrary limits and
defaults which can be queried with the
<a class="reference internal" href="vidioc-queryctrl.html#vidioc-queryctrl"><span class="std std-ref">ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU</span></a> ioctl. For general
information about controls see <a class="reference internal" href="control.html#control"><span class="std std-ref">User Controls</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">depth</span></code> (average number of bits per pixel) of a video image is
implied by the selected image format. V4L2 does not explicitly provide
such information assuming applications recognizing the format are aware
of the image depth and others need not know. The <code class="docutils literal"><span class="pre">palette</span></code> field moved
into the struct <a class="reference internal" href="pixfmt-v4l2.html#c.v4l2_pix_format" title="v4l2_pix_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_pix_format</span></code></a>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">struct <code class="docutils literal"><span class="pre">video_picture</span></code> <code class="docutils literal"><span class="pre">palette</span></code></th>
<th class="head">struct <a class="reference internal" href="pixfmt-v4l2.html#c.v4l2_pix_format" title="v4l2_pix_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_pix_format</span></code></a> <code class="docutils literal"><span class="pre">pixfmt</span></code></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_GREY</span></code></td>
<td><a class="reference internal" href="pixfmt-grey.html#v4l2-pix-fmt-grey"><span class="std std-ref">V4L2_PIX_FMT_GREY</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_HI240</span></code></td>
<td><a class="reference internal" href="pixfmt-reserved.html#pixfmt-reserved"><span class="std std-ref">V4L2_PIX_FMT_HI240</span></a> <a class="footnote-reference" href="#f3" id="id3">[3]</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_RGB565</span></code></td>
<td><a class="reference internal" href="pixfmt-rgb.html#pixfmt-rgb"><span class="std std-ref">V4L2_PIX_FMT_RGB565</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_RGB555</span></code></td>
<td><a class="reference internal" href="pixfmt-rgb.html#pixfmt-rgb"><span class="std std-ref">V4L2_PIX_FMT_RGB555</span></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_RGB24</span></code></td>
<td><a class="reference internal" href="pixfmt-rgb.html#pixfmt-rgb"><span class="std std-ref">V4L2_PIX_FMT_BGR24</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_RGB32</span></code></td>
<td><a class="reference internal" href="pixfmt-rgb.html#pixfmt-rgb"><span class="std std-ref">V4L2_PIX_FMT_BGR32</span></a> <a class="footnote-reference" href="#f4" id="id4">[4]</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV422</span></code></td>
<td><a class="reference internal" href="pixfmt-yuyv.html#v4l2-pix-fmt-yuyv"><span class="std std-ref">V4L2_PIX_FMT_YUYV</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUYV</span></code> <a class="footnote-reference" href="#f5" id="id5">[5]</a></td>
<td><a class="reference internal" href="pixfmt-yuyv.html#v4l2-pix-fmt-yuyv"><span class="std std-ref">V4L2_PIX_FMT_YUYV</span></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_UYVY</span></code></td>
<td><a class="reference internal" href="pixfmt-uyvy.html#v4l2-pix-fmt-uyvy"><span class="std std-ref">V4L2_PIX_FMT_UYVY</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV420</span></code></td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV411</span></code></td>
<td><a class="reference internal" href="pixfmt-y41p.html#v4l2-pix-fmt-y41p"><span class="std std-ref">V4L2_PIX_FMT_Y41P</span></a> <a class="footnote-reference" href="#f6" id="id6">[6]</a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_RAW</span></code></td>
<td>None <a class="footnote-reference" href="#f7" id="id7">[7]</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV422P</span></code></td>
<td><a class="reference internal" href="pixfmt-yuv422p.html#v4l2-pix-fmt-yuv422p"><span class="std std-ref">V4L2_PIX_FMT_YUV422P</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV411P</span></code></td>
<td><a class="reference internal" href="pixfmt-yuv411p.html#v4l2-pix-fmt-yuv411p"><span class="std std-ref">V4L2_PIX_FMT_YUV411P</span></a> <a class="footnote-reference" href="#f8" id="id8">[8]</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV420P</span></code></td>
<td><a class="reference internal" href="pixfmt-yuv420.html#v4l2-pix-fmt-yvu420"><span class="std std-ref">V4L2_PIX_FMT_YVU420</span></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV410P</span></code></td>
<td><a class="reference internal" href="pixfmt-yuv410.html#v4l2-pix-fmt-yvu410"><span class="std std-ref">V4L2_PIX_FMT_YVU410</span></a></td>
</tr>
</tbody>
</table>
<p>V4L2 image formats are defined in <a class="reference internal" href="pixfmt.html#pixfmt"><span class="std std-ref">Image Formats</span></a>. The image format can
be selected with the <a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a> ioctl.</p>
</div>
<div class="section" id="audio">
<h2>6.1.6. Audio<a class="headerlink" href="#audio" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">VIDIOCGAUDIO</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSAUDIO</span></code> ioctl and struct
<code class="docutils literal"><span class="pre">video_audio</span></code> are used to enumerate the audio inputs
of a V4L device. The equivalent V4L2 ioctls are
<a class="reference internal" href="vidioc-g-audio.html#vidioc-g-audio"><span class="std std-ref">VIDIOC_G_AUDIO</span></a> and
<a class="reference internal" href="vidioc-g-audio.html#vidioc-g-audio"><span class="std std-ref">VIDIOC_S_AUDIO</span></a> using struct
<a class="reference internal" href="vidioc-g-audio.html#c.v4l2_audio" title="v4l2_audio"><code class="xref c c-type docutils literal"><span class="pre">v4l2_audio</span></code></a> as discussed in <a class="reference internal" href="audio.html#audio"><span class="std std-ref">Audio Inputs and Outputs</span></a>.</p>
<p>The <code class="docutils literal"><span class="pre">audio</span></code> “channel number” field counting audio inputs was renamed
to <code class="docutils literal"><span class="pre">index</span></code>.</p>
<p>On <code class="docutils literal"><span class="pre">VIDIOCSAUDIO</span></code> the <code class="docutils literal"><span class="pre">mode</span></code> field selects <em>one</em> of the
<code class="docutils literal"><span class="pre">VIDEO_SOUND_MONO</span></code>, <code class="docutils literal"><span class="pre">VIDEO_SOUND_STEREO</span></code>, <code class="docutils literal"><span class="pre">VIDEO_SOUND_LANG1</span></code> or
<code class="docutils literal"><span class="pre">VIDEO_SOUND_LANG2</span></code> audio demodulation modes. When the current audio
standard is BTSC <code class="docutils literal"><span class="pre">VIDEO_SOUND_LANG2</span></code> refers to SAP and
<code class="docutils literal"><span class="pre">VIDEO_SOUND_LANG1</span></code> is meaningless. Also undocumented in the V4L
specification, there is no way to query the selected mode. On
<code class="docutils literal"><span class="pre">VIDIOCGAUDIO</span></code> the driver returns the <em>actually received</em> audio
programmes in this field. In the V4L2 API this information is stored in
the struct <a class="reference internal" href="vidioc-g-tuner.html#c.v4l2_tuner" title="v4l2_tuner"><code class="xref c c-type docutils literal"><span class="pre">v4l2_tuner</span></code></a> <code class="docutils literal"><span class="pre">rxsubchans</span></code> and
<code class="docutils literal"><span class="pre">audmode</span></code> fields, respectively. See <a class="reference internal" href="tuner.html#tuner"><span class="std std-ref">Tuners and Modulators</span></a> for more
information on tuners. Related to audio modes struct
<a class="reference internal" href="vidioc-g-audio.html#c.v4l2_audio" title="v4l2_audio"><code class="xref c c-type docutils literal"><span class="pre">v4l2_audio</span></code></a> also reports if this is a mono or
stereo input, regardless if the source is a tuner.</p>
<p>The following fields where replaced by V4L2 controls accessible with the
<a class="reference internal" href="vidioc-queryctrl.html#vidioc-queryctrl"><span class="std std-ref">ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU</span></a>,
<a class="reference internal" href="vidioc-g-ctrl.html#vidioc-g-ctrl"><span class="std std-ref">VIDIOC_G_CTRL</span></a> and
<a class="reference internal" href="vidioc-g-ctrl.html#vidioc-g-ctrl"><span class="std std-ref">VIDIOC_S_CTRL</span></a> ioctls:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">struct <code class="docutils literal"><span class="pre">video_audio</span></code></th>
<th class="head">V4L2 Control ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">volume</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_AUDIO_VOLUME</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">bass</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_AUDIO_BASS</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">treble</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_AUDIO_TREBLE</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">balance</span></code></td>
<td><code class="docutils literal"><span class="pre">V4L2_CID_AUDIO_BALANCE</span></code></td>
</tr>
</tbody>
</table>
<p>To determine which of these controls are supported by a driver V4L
provides the <code class="docutils literal"><span class="pre">flags</span></code> <code class="docutils literal"><span class="pre">VIDEO_AUDIO_VOLUME</span></code>, <code class="docutils literal"><span class="pre">VIDEO_AUDIO_BASS</span></code>,
<code class="docutils literal"><span class="pre">VIDEO_AUDIO_TREBLE</span></code> and <code class="docutils literal"><span class="pre">VIDEO_AUDIO_BALANCE</span></code>. In the V4L2 API the
<a class="reference internal" href="vidioc-queryctrl.html#vidioc-queryctrl"><span class="std std-ref">ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU</span></a> ioctl reports if the
respective control is supported. Accordingly the <code class="docutils literal"><span class="pre">VIDEO_AUDIO_MUTABLE</span></code>
and <code class="docutils literal"><span class="pre">VIDEO_AUDIO_MUTE</span></code> flags where replaced by the boolean
<code class="docutils literal"><span class="pre">V4L2_CID_AUDIO_MUTE</span></code> control.</p>
<p>All V4L2 controls have a <code class="docutils literal"><span class="pre">step</span></code> attribute replacing the struct
<code class="docutils literal"><span class="pre">video_audio</span></code> <code class="docutils literal"><span class="pre">step</span></code> field. The V4L audio controls
are assumed to range from 0 to 65535 with no particular reset value. The
V4L2 API permits arbitrary limits and defaults which can be queried with
the <a class="reference internal" href="vidioc-queryctrl.html#vidioc-queryctrl"><span class="std std-ref">ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU</span></a> ioctl. For general
information about controls see <a class="reference internal" href="control.html#control"><span class="std std-ref">User Controls</span></a>.</p>
</div>
<div class="section" id="frame-buffer-overlay">
<h2>6.1.7. Frame Buffer Overlay<a class="headerlink" href="#frame-buffer-overlay" title="Permalink to this headline">¶</a></h2>
<p>The V4L2 ioctls equivalent to <code class="docutils literal"><span class="pre">VIDIOCGFBUF</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSFBUF</span></code> are
<a class="reference internal" href="vidioc-g-fbuf.html#vidioc-g-fbuf"><span class="std std-ref">VIDIOC_G_FBUF</span></a> and
<a class="reference internal" href="vidioc-g-fbuf.html#vidioc-g-fbuf"><span class="std std-ref">VIDIOC_S_FBUF</span></a>. The <code class="docutils literal"><span class="pre">base</span></code> field of struct
<code class="docutils literal"><span class="pre">video_buffer</span></code> remained unchanged, except V4L2 defines
a flag to indicate non-destructive overlays instead of a <code class="docutils literal"><span class="pre">NULL</span></code>
pointer. All other fields moved into the struct
<a class="reference internal" href="pixfmt-v4l2.html#c.v4l2_pix_format" title="v4l2_pix_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_pix_format</span></code></a> <code class="docutils literal"><span class="pre">fmt</span></code> substructure of
struct <a class="reference internal" href="vidioc-g-fbuf.html#c.v4l2_framebuffer" title="v4l2_framebuffer"><code class="xref c c-type docutils literal"><span class="pre">v4l2_framebuffer</span></code></a>. The <code class="docutils literal"><span class="pre">depth</span></code>
field was replaced by <code class="docutils literal"><span class="pre">pixelformat</span></code>. See <a class="reference internal" href="pixfmt-rgb.html#pixfmt-rgb"><span class="std std-ref">RGB Formats</span></a> for a
list of RGB formats and their respective color depths.</p>
<p>Instead of the special ioctls <code class="docutils literal"><span class="pre">VIDIOCGWIN</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSWIN</span></code> V4L2
uses the general-purpose data format negotiation ioctls
<a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_G_FMT</span></a> and
<a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a>. They take a pointer to a struct
<a class="reference internal" href="vidioc-g-fmt.html#c.v4l2_format" title="v4l2_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_format</span></code></a> as argument. Here the <code class="docutils literal"><span class="pre">win</span></code> member
of the <code class="docutils literal"><span class="pre">fmt</span></code> union is used, a struct
<a class="reference internal" href="dev-overlay.html#c.v4l2_window" title="v4l2_window"><code class="xref c c-type docutils literal"><span class="pre">v4l2_window</span></code></a>.</p>
<p>The <code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>, <code class="docutils literal"><span class="pre">width</span></code> and <code class="docutils literal"><span class="pre">height</span></code> fields of struct
<code class="docutils literal"><span class="pre">video_window</span></code> moved into struct
<a class="reference internal" href="dev-overlay.html#c.v4l2_rect" title="v4l2_rect"><code class="xref c c-type docutils literal"><span class="pre">v4l2_rect</span></code></a> substructure <code class="docutils literal"><span class="pre">w</span></code> of struct
<a class="reference internal" href="dev-overlay.html#c.v4l2_window" title="v4l2_window"><code class="xref c c-type docutils literal"><span class="pre">v4l2_window</span></code></a>. The <code class="docutils literal"><span class="pre">chromakey</span></code>, <code class="docutils literal"><span class="pre">clips</span></code>, and
<code class="docutils literal"><span class="pre">clipcount</span></code> fields remained unchanged. Struct
<code class="docutils literal"><span class="pre">video_clip</span></code> was renamed to struct
<a class="reference internal" href="dev-overlay.html#c.v4l2_clip" title="v4l2_clip"><code class="xref c c-type docutils literal"><span class="pre">v4l2_clip</span></code></a>, also containing a struct
<a class="reference internal" href="dev-overlay.html#c.v4l2_rect" title="v4l2_rect"><code class="xref c c-type docutils literal"><span class="pre">v4l2_rect</span></code></a>, but the semantics are still the same.</p>
<p>The <code class="docutils literal"><span class="pre">VIDEO_WINDOW_INTERLACE</span></code> flag was dropped. Instead applications
must set the <code class="docutils literal"><span class="pre">field</span></code> field to <code class="docutils literal"><span class="pre">V4L2_FIELD_ANY</span></code> or
<code class="docutils literal"><span class="pre">V4L2_FIELD_INTERLACED</span></code>. The <code class="docutils literal"><span class="pre">VIDEO_WINDOW_CHROMAKEY</span></code> flag moved
into struct <a class="reference internal" href="vidioc-g-fbuf.html#c.v4l2_framebuffer" title="v4l2_framebuffer"><code class="xref c c-type docutils literal"><span class="pre">v4l2_framebuffer</span></code></a>, under the new
name <code class="docutils literal"><span class="pre">V4L2_FBUF_FLAG_CHROMAKEY</span></code>.</p>
<p>In V4L, storing a bitmap pointer in <code class="docutils literal"><span class="pre">clips</span></code> and setting <code class="docutils literal"><span class="pre">clipcount</span></code>
to <code class="docutils literal"><span class="pre">VIDEO_CLIP_BITMAP</span></code> (-1) requests bitmap clipping, using a fixed
size bitmap of 1024 × 625 bits. Struct <a class="reference internal" href="dev-overlay.html#c.v4l2_window" title="v4l2_window"><code class="xref c c-type docutils literal"><span class="pre">v4l2_window</span></code></a>
has a separate <code class="docutils literal"><span class="pre">bitmap</span></code> pointer field for this purpose and the bitmap
size is determined by <code class="docutils literal"><span class="pre">w.width</span></code> and <code class="docutils literal"><span class="pre">w.height</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">VIDIOCCAPTURE</span></code> ioctl to enable or disable overlay was renamed to
<a class="reference internal" href="vidioc-overlay.html#vidioc-overlay"><span class="std std-ref">ioctl VIDIOC_OVERLAY</span></a>.</p>
</div>
<div class="section" id="cropping">
<h2>6.1.8. Cropping<a class="headerlink" href="#cropping" title="Permalink to this headline">¶</a></h2>
<p>To capture only a subsection of the full picture V4L defines the
<code class="docutils literal"><span class="pre">VIDIOCGCAPTURE</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSCAPTURE</span></code> ioctls using struct
<code class="docutils literal"><span class="pre">video_capture</span></code>. The equivalent V4L2 ioctls are
<a class="reference internal" href="vidioc-g-crop.html#vidioc-g-crop"><span class="std std-ref">VIDIOC_G_CROP</span></a> and
<a class="reference internal" href="vidioc-g-crop.html#vidioc-g-crop"><span class="std std-ref">VIDIOC_S_CROP</span></a> using struct
<a class="reference internal" href="vidioc-g-crop.html#c.v4l2_crop" title="v4l2_crop"><code class="xref c c-type docutils literal"><span class="pre">v4l2_crop</span></code></a>, and the related
<a class="reference internal" href="vidioc-cropcap.html#vidioc-cropcap"><span class="std std-ref">ioctl VIDIOC_CROPCAP</span></a> ioctl. This is a rather
complex matter, see <a class="reference internal" href="crop.html#crop"><span class="std std-ref">Image Cropping, Insertion and Scaling</span></a> for details.</p>
<p>The <code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>, <code class="docutils literal"><span class="pre">width</span></code> and <code class="docutils literal"><span class="pre">height</span></code> fields moved into struct
<a class="reference internal" href="dev-overlay.html#c.v4l2_rect" title="v4l2_rect"><code class="xref c c-type docutils literal"><span class="pre">v4l2_rect</span></code></a> substructure <code class="docutils literal"><span class="pre">c</span></code> of struct
<a class="reference internal" href="vidioc-g-crop.html#c.v4l2_crop" title="v4l2_crop"><code class="xref c c-type docutils literal"><span class="pre">v4l2_crop</span></code></a>. The <code class="docutils literal"><span class="pre">decimation</span></code> field was dropped. In
the V4L2 API the scaling factor is implied by the size of the cropping
rectangle and the size of the captured or overlaid image.</p>
<p>The <code class="docutils literal"><span class="pre">VIDEO_CAPTURE_ODD</span></code> and <code class="docutils literal"><span class="pre">VIDEO_CAPTURE_EVEN</span></code> flags to capture
only the odd or even field, respectively, were replaced by
<code class="docutils literal"><span class="pre">V4L2_FIELD_TOP</span></code> and <code class="docutils literal"><span class="pre">V4L2_FIELD_BOTTOM</span></code> in the field named
<code class="docutils literal"><span class="pre">field</span></code> of struct <a class="reference internal" href="pixfmt-v4l2.html#c.v4l2_pix_format" title="v4l2_pix_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_pix_format</span></code></a> and
struct <a class="reference internal" href="dev-overlay.html#c.v4l2_window" title="v4l2_window"><code class="xref c c-type docutils literal"><span class="pre">v4l2_window</span></code></a>. These structures are used to
select a capture or overlay format with the
<a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a> ioctl.</p>
</div>
<div class="section" id="reading-images-memory-mapping">
<h2>6.1.9. Reading Images, Memory Mapping<a class="headerlink" href="#reading-images-memory-mapping" title="Permalink to this headline">¶</a></h2>
<div class="section" id="capturing-using-the-read-method">
<h3>6.1.9.1. Capturing using the read method<a class="headerlink" href="#capturing-using-the-read-method" title="Permalink to this headline">¶</a></h3>
<p>There is no essential difference between reading images from a V4L or
V4L2 device using the <a class="reference internal" href="func-read.html#func-read"><span class="std std-ref">read()</span></a> function, however V4L2
drivers are not required to support this I/O method. Applications can
determine if the function is available with the
<a class="reference internal" href="vidioc-querycap.html#vidioc-querycap"><span class="std std-ref">ioctl VIDIOC_QUERYCAP</span></a> ioctl. All V4L2 devices
exchanging data with applications must support the
<a class="reference internal" href="func-select.html#func-select"><span class="std std-ref">select()</span></a> and <a class="reference internal" href="func-poll.html#func-poll"><span class="std std-ref">poll()</span></a>
functions.</p>
<p>To select an image format and size, V4L provides the <code class="docutils literal"><span class="pre">VIDIOCSPICT</span></code> and
<code class="docutils literal"><span class="pre">VIDIOCSWIN</span></code> ioctls. V4L2 uses the general-purpose data format
negotiation ioctls <a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_G_FMT</span></a> and
<a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a>. They take a pointer to a struct
<a class="reference internal" href="vidioc-g-fmt.html#c.v4l2_format" title="v4l2_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_format</span></code></a> as argument, here the struct
<a class="reference internal" href="pixfmt-v4l2.html#c.v4l2_pix_format" title="v4l2_pix_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_pix_format</span></code></a> named <code class="docutils literal"><span class="pre">pix</span></code> of its
<code class="docutils literal"><span class="pre">fmt</span></code> union is used.</p>
<p>For more information about the V4L2 read interface see <a class="reference internal" href="rw.html#rw"><span class="std std-ref">Read/Write</span></a>.</p>
</div>
<div class="section" id="capturing-using-memory-mapping">
<h3>6.1.9.2. Capturing using memory mapping<a class="headerlink" href="#capturing-using-memory-mapping" title="Permalink to this headline">¶</a></h3>
<p>Applications can read from V4L devices by mapping buffers in device
memory, or more often just buffers allocated in DMA-able system memory,
into their address space. This avoids the data copying overhead of the
read method. V4L2 supports memory mapping as well, with a few
differences.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">V4L</th>
<th class="head">V4L2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td>The image format must be selected before buffers are allocated,
with the <a class="reference internal" href="vidioc-g-fmt.html#vidioc-g-fmt"><span class="std std-ref">VIDIOC_S_FMT</span></a> ioctl. When no
format is selected the driver may use the last, possibly by
another application requested format.</td>
</tr>
<tr class="row-odd"><td>Applications cannot change the number of buffers. The it is built
into the driver, unless it has a module option to change the
number when the driver module is loaded.</td>
<td>The <a class="reference internal" href="vidioc-reqbufs.html#vidioc-reqbufs"><span class="std std-ref">ioctl VIDIOC_REQBUFS</span></a> ioctl allocates the
desired number of buffers, this is a required step in the
initialization sequence.</td>
</tr>
<tr class="row-even"><td>Drivers map all buffers as one contiguous range of memory. The
<code class="docutils literal"><span class="pre">VIDIOCGMBUF</span></code> ioctl is available to query the number of buffers,
the offset of each buffer from the start of the virtual file, and
the overall amount of memory used, which can be used as arguments
for the <a class="reference internal" href="func-mmap.html#func-mmap"><span class="std std-ref">mmap()</span></a> function.</td>
<td>Buffers are individually mapped. The offset and size of each
buffer can be determined with the
<a class="reference internal" href="vidioc-querybuf.html#vidioc-querybuf"><span class="std std-ref">ioctl VIDIOC_QUERYBUF</span></a> ioctl.</td>
</tr>
<tr class="row-odd"><td><p class="first">The <code class="docutils literal"><span class="pre">VIDIOCMCAPTURE</span></code> ioctl prepares a buffer for capturing. It
also determines the image format for this buffer. The ioctl
returns immediately, eventually with an <code class="docutils literal"><span class="pre">EAGAIN</span></code> error code if no
video signal had been detected. When the driver supports more than
one buffer applications can call the ioctl multiple times and thus
have multiple outstanding capture requests.</p>
<p class="last">The <code class="docutils literal"><span class="pre">VIDIOCSYNC</span></code> ioctl suspends execution until a particular
buffer has been filled.</p>
</td>
<td>Drivers maintain an incoming and outgoing queue.
<a class="reference internal" href="vidioc-qbuf.html#vidioc-qbuf"><span class="std std-ref">ioctl VIDIOC_QBUF, VIDIOC_DQBUF</span></a> enqueues any empty buffer into
the incoming queue. Filled buffers are dequeued from the outgoing
queue with the <a class="reference internal" href="vidioc-qbuf.html#vidioc-qbuf"><span class="std std-ref">VIDIOC_DQBUF</span></a> ioctl. To wait
until filled buffers become available this function,
<a class="reference internal" href="func-select.html#func-select"><span class="std std-ref">select()</span></a> or <a class="reference internal" href="func-poll.html#func-poll"><span class="std std-ref">poll()</span></a> can
be used. The <a class="reference internal" href="vidioc-streamon.html#vidioc-streamon"><span class="std std-ref">ioctl VIDIOC_STREAMON, VIDIOC_STREAMOFF</span></a> ioctl
must be called once after enqueuing one or more buffers to start
capturing. Its counterpart
<a class="reference internal" href="vidioc-streamon.html#vidioc-streamon"><span class="std std-ref">VIDIOC_STREAMOFF</span></a> stops capturing and
dequeues all buffers from both queues. Applications can query the
signal status, if known, with the
<a class="reference internal" href="vidioc-enuminput.html#vidioc-enuminput"><span class="std std-ref">ioctl VIDIOC_ENUMINPUT</span></a> ioctl.</td>
</tr>
</tbody>
</table>
<p>For a more in-depth discussion of memory mapping and examples, see
<a class="reference internal" href="mmap.html#mmap"><span class="std std-ref">Streaming I/O (Memory Mapping)</span></a>.</p>
</div>
</div>
<div class="section" id="reading-raw-vbi-data">
<h2>6.1.10. Reading Raw VBI Data<a class="headerlink" href="#reading-raw-vbi-data" title="Permalink to this headline">¶</a></h2>
<p>Originally the V4L API did not specify a raw VBI capture interface, only
the device file <code class="docutils literal"><span class="pre">/dev/vbi</span></code> was reserved for this purpose. The only
driver supporting this interface was the BTTV driver, de-facto defining
the V4L VBI interface. Reading from the device yields a raw VBI image
with the following parameters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">struct <a class="reference internal" href="dev-raw-vbi.html#c.v4l2_vbi_format" title="v4l2_vbi_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_vbi_format</span></code></a></th>
<th class="head">V4L, BTTV driver</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sampling_rate</td>
<td>28636363 Hz NTSC (or any other 525-line standard); 35468950 Hz PAL
and SECAM (625-line standards)</td>
</tr>
<tr class="row-odd"><td>offset</td>
<td>?</td>
</tr>
<tr class="row-even"><td>samples_per_line</td>
<td>2048</td>
</tr>
<tr class="row-odd"><td>sample_format</td>
<td>V4L2_PIX_FMT_GREY. The last four bytes (a machine endianness
integer) contain a frame counter.</td>
</tr>
<tr class="row-even"><td>start[]</td>
<td>10, 273 NTSC; 22, 335 PAL and SECAM</td>
</tr>
<tr class="row-odd"><td>count[]</td>
<td>16, 16 <a class="footnote-reference" href="#f9" id="id9">[9]</a></td>
</tr>
<tr class="row-even"><td>flags</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Undocumented in the V4L specification, in Linux 2.3 the
<code class="docutils literal"><span class="pre">VIDIOCGVBIFMT</span></code> and <code class="docutils literal"><span class="pre">VIDIOCSVBIFMT</span></code> ioctls using struct
<code class="docutils literal"><span class="pre">vbi_format</span></code> were added to determine the VBI image
parameters. These ioctls are only partially compatible with the V4L2 VBI
interface specified in <a class="reference internal" href="dev-raw-vbi.html#raw-vbi"><span class="std std-ref">Raw VBI Data Interface</span></a>.</p>
<p>An <code class="docutils literal"><span class="pre">offset</span></code> field does not exist, <code class="docutils literal"><span class="pre">sample_format</span></code> is supposed to be
<code class="docutils literal"><span class="pre">VIDEO_PALETTE_RAW</span></code>, equivalent to <code class="docutils literal"><span class="pre">V4L2_PIX_FMT_GREY</span></code>. The
remaining fields are probably equivalent to struct
<a class="reference internal" href="dev-raw-vbi.html#c.v4l2_vbi_format" title="v4l2_vbi_format"><code class="xref c c-type docutils literal"><span class="pre">v4l2_vbi_format</span></code></a>.</p>
<p>Apparently only the Zoran (ZR 36120) driver implements these ioctls. The
semantics differ from those specified for V4L2 in two ways. The
parameters are reset on <a class="reference internal" href="func-open.html#func-open"><span class="std std-ref">open()</span></a> and
<code class="docutils literal"><span class="pre">VIDIOCSVBIFMT</span></code> always returns an <code class="docutils literal"><span class="pre">EINVAL</span></code> error code if the parameters
are invalid.</p>
</div>
<div class="section" id="miscellaneous">
<h2>6.1.11. Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<p>V4L2 has no equivalent of the <code class="docutils literal"><span class="pre">VIDIOCGUNIT</span></code> ioctl. Applications can
find the VBI device associated with a video capture device (or vice
versa) by reopening the device and requesting VBI data. For details see
<a class="reference internal" href="open.html#open"><span class="std std-ref">Opening and Closing Devices</span></a>.</p>
<p>No replacement exists for <code class="docutils literal"><span class="pre">VIDIOCKEY</span></code>, and the V4L functions for
microcode programming. A new interface for MPEG compression and playback
devices is documented in <a class="reference internal" href="extended-controls.html#extended-controls"><span class="std std-ref">Extended Controls</span></a>.</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>According to Documentation/admin-guide/devices.rst these should be symbolic links
to <code class="docutils literal"><span class="pre">/dev/video0</span></code>. Note the original bttv interface is not
compatible with V4L or V4L2.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>According to <code class="docutils literal"><span class="pre">Documentation/admin-guide/devices.rst</span></code> a symbolic link to
<code class="docutils literal"><span class="pre">/dev/radio0</span></code>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>This is a custom format used by the BTTV driver, not one of the V4L2
standard formats.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>Presumably all V4L RGB formats are little-endian, although some
drivers might interpret them according to machine endianness. V4L2
defines little-endian, big-endian and red/blue swapped variants. For
details see <a class="reference internal" href="pixfmt-rgb.html#pixfmt-rgb"><span class="std std-ref">RGB Formats</span></a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td><code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUV422</span></code> and <code class="docutils literal"><span class="pre">VIDEO_PALETTE_YUYV</span></code> are the same
formats. Some V4L drivers respond to one, some to the other.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[6]</a></td><td>Not to be confused with <code class="docutils literal"><span class="pre">V4L2_PIX_FMT_YUV411P</span></code>, which is a planar
format.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[7]</a></td><td>V4L explains this as: “RAW capture (BT848)”</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[8]</a></td><td>Not to be confused with <code class="docutils literal"><span class="pre">V4L2_PIX_FMT_Y41P</span></code>, which is a packed
format.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[9]</a></td><td>Old driver versions used different values, eventually the custom
<code class="docutils literal"><span class="pre">BTTV_VBISIZE</span></code> ioctl was added to query the correct values.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hist-v4l2.html" class="btn btn-neutral float-right" title="6.2. Changes of the V4L2 API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="compat.html" class="btn btn-neutral" title="6. Changes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>