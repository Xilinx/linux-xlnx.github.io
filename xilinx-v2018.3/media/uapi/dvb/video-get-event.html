

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2.2.14. VIDEO_GET_EVENT &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="6.2.2.15. VIDEO_COMMAND" href="video-command.html" />
    <link rel="prev" title="6.2.2.13. VIDEO_GET_FRAME_RATE" href="video-get-frame-rate.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.14.0-xilinx-v2018.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../media_uapi.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v4l/v4l2.html">Part I - Video for Linux API</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="dvbapi.html">Part II - Digital TV API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="frontend.html">2. Digital TV Frontend API</a></li>
<li class="toctree-l4"><a class="reference internal" href="demux.html">3. Digital TV Demux Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="ca.html">4. Digital TV CA Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="net.html">5. Digital TV Network API</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="legacy_dvb_apis.html">6. Digital TV Deprecated APIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="examples.html">7. Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="headers.html">8. Digital TV uAPI header files</a></li>
<li class="toctree-l4"><a class="reference internal" href="dvbapi.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="dvbapi.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cec/cec-api.html">Part V - Consumer Electronics Control API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cec-drivers/index.html">CEC driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Linux Filesystems API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/ko_KR/index.html">Korean translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/zh_CN/index.html">Chinese translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/ja_JP/index.html">Japanese translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="../../media_uapi.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
        
          <li><a href="dvbapi.html">Part II - Digital TV API</a> &raquo;</li>
        
          <li><a href="legacy_dvb_apis.html">6. Digital TV Deprecated APIs</a> &raquo;</li>
        
          <li><a href="video.html">6.2. Digital TV Video Device</a> &raquo;</li>
        
          <li><a href="video_function_calls.html">6.2.2. Video Function Calls</a> &raquo;</li>
        
      <li>6.2.2.14. VIDEO_GET_EVENT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/media/uapi/dvb/video-get-event.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="video-get-event">
<span id="id1"></span><h1>6.2.2.14. VIDEO_GET_EVENT<a class="headerlink" href="#video-get-event" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>6.2.2.14.1. Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>VIDEO_GET_EVENT</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">This ioctl is deprecated.</p>
</div>
</div>
<div class="section" id="synopsis">
<h2>6.2.2.14.2. Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="c.VIDEO_GET_EVENT">
int <code class="descname">ioctl</code><span class="sig-paren">(</span>fd, <a class="reference internal" href="#c.VIDEO_GET_EVENT" title="VIDEO_GET_EVENT">VIDEO_GET_EVENT</a>, struct <a class="reference internal" href="video_types.html#c.video_event" title="video_event">video_event</a><em>&nbsp;*ev</em><span class="sig-paren">)</span><a class="headerlink" href="#c.VIDEO_GET_EVENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="arguments">
<h2>6.2.2.14.3. Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>int fd</td>
<td>File descriptor returned by a previous call to open().</td>
</tr>
<tr class="row-even"><td>int request</td>
<td>Equals VIDEO_GET_EVENT for this command.</td>
</tr>
<tr class="row-odd"><td>struct video_event *ev</td>
<td>Points to the location where the event, if any, is to be stored.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2>6.2.2.14.4. Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This ioctl is for Digital TV devices only. To get events from a V4L2 decoder
use the V4L2 <a class="reference internal" href="../v4l/vidioc-dqevent.html#vidioc-dqevent"><span class="std std-ref">ioctl VIDIOC_DQEVENT</span></a> ioctl instead.</p>
<p>This ioctl call returns an event of type video_event if available. If
an event is not available, the behavior depends on whether the device is
in blocking or non-blocking mode. In the latter case, the call fails
immediately with errno set to <code class="docutils literal"><span class="pre">EWOULDBLOCK</span></code>. In the former case, the call
blocks until an event becomes available. The standard Linux poll()
and/or select() system calls can be used with the device file descriptor
to watch for new events. For select(), the file descriptor should be
included in the exceptfds argument, and for poll(), POLLPRI should be
specified as the wake-up condition. Read-only permissions are sufficient
for this ioctl call.</p>
<dl class="type">
<dt id="c.video_event">
<code class="descname">video_event</code><a class="headerlink" href="#c.video_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">video_event</span> <span class="p">{</span>
        <span class="n">__s32</span> <span class="n">type</span><span class="p">;</span>
<span class="cp">#define VIDEO_EVENT_SIZE_CHANGED        1</span>
<span class="cp">#define VIDEO_EVENT_FRAME_RATE_CHANGED  2</span>
<span class="cp">#define VIDEO_EVENT_DECODER_STOPPED     3</span>
<span class="cp">#define VIDEO_EVENT_VSYNC               4</span>
        <span class="n">__kernel_time_t</span> <span class="n">timestamp</span><span class="p">;</span>
        <span class="k">union</span> <span class="p">{</span>
                <span class="n">video_size_t</span> <span class="n">size</span><span class="p">;</span>
                <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">frame_rate</span><span class="p">;</span>        <span class="cm">/* in frames per 1000sec */</span>
                <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">vsync_field</span><span class="p">;</span>      <span class="cm">/* unknown/odd/even/progressive */</span>
        <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="return-value">
<h2>6.2.2.14.5. Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">EWOULDBLOCK</span></code></td>
<td>There is no event pending, and the device is in non-blocking mode.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">EOVERFLOW</span></code></td>
<td>Overflow in event queue - one or more events were lost.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="video-command.html" class="btn btn-neutral float-right" title="6.2.2.15. VIDEO_COMMAND" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="video-get-frame-rate.html" class="btn btn-neutral" title="6.2.2.13. VIDEO_GET_FRAME_RATE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>