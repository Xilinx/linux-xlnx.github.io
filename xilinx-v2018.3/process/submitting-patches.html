

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Submitting patches: the essential guide to getting your code into the kernel &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Linux kernel coding style" href="coding-style.html" />
    <link rel="prev" title="8. For more information" href="8.Conclusion.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.14.0-xilinx-v2018.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Working with the kernel development community</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="howto.html">HOWTO do Linux kernel development</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-of-conflict.html">Code of Conflict</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-process.html">A guide to the Kernel Development Process</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Submitting patches: the essential guide to getting your code into the kernel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#obtain-a-current-source-tree">0) Obtain a current source tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diff-up">1) <code class="docutils literal"><span class="pre">diff</span> <span class="pre">-up</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#describe-your-changes">2) Describe your changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#separate-your-changes">3) Separate your changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#style-check-your-changes">4) Style-check your changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-the-recipients-for-your-patch">5) Select the recipients for your patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#no-mime-no-links-no-compression-no-attachments-just-plain-text">6) No MIME, no links, no compression, no attachments.  Just plain text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#e-mail-size">7) E-mail size</a></li>
<li class="toctree-l3"><a class="reference internal" href="#respond-to-review-comments">8) Respond to review comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#don-t-get-discouraged-or-impatient">9) Don’t get discouraged - or impatient</a></li>
<li class="toctree-l3"><a class="reference internal" href="#include-patch-in-the-subject">10) Include PATCH in the subject</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sign-your-work-the-developer-s-certificate-of-origin">11) Sign your work - the Developer’s Certificate of Origin</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#developer-s-certificate-of-origin-1-1">Developer’s Certificate of Origin 1.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#when-to-use-acked-by-and-cc">12) When to use Acked-by: and Cc:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-reported-by-tested-by-reviewed-by-suggested-by-and-fixes">13) Using Reported-by:, Tested-by:, Reviewed-by:, Suggested-by: and Fixes:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reviewer-s-statement-of-oversight">Reviewer’s statement of oversight</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-canonical-patch-format">14) The canonical patch format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#explicit-in-reply-to-headers">15) Explicit In-Reply-To headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-git-pull-requests">16) Sending <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code> requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coding-style.html">Linux kernel coding style</a></li>
<li class="toctree-l2"><a class="reference internal" href="email-clients.html">Email clients info for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-enforcement-statement.html">Linux Kernel Enforcement Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes.html">Minimal requirements to compile the Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="submitting-drivers.html">Submitting Drivers For The Linux Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="stable-api-nonsense.html">The Linux Kernel Driver Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="management-style.html">Linux kernel management style</a></li>
<li class="toctree-l2"><a class="reference internal" href="stable-kernel-rules.html">Everything you ever wanted to know about Linux -stable releases</a></li>
<li class="toctree-l2"><a class="reference internal" href="submit-checklist.html">Linux Kernel patch submission checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-docs.html">Index of Documentation for People Interested in Writing and/or Understanding the Linux Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="applying-patches.html">Applying Patches To The Linux Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="adding-syscalls.html">Adding a New System Call</a></li>
<li class="toctree-l2"><a class="reference internal" href="magic-number.html">Linux magic numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="volatile-considered-harmful.html">Why the “volatile” type class should not be used</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Linux Filesystems API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/ko_KR/index.html">Korean translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/zh_CN/index.html">Chinese translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/ja_JP/index.html">Japanese translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Working with the kernel development community</a> &raquo;</li>
        
      <li>Submitting patches: the essential guide to getting your code into the kernel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/process/submitting-patches.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="submitting-patches-the-essential-guide-to-getting-your-code-into-the-kernel">
<span id="submittingpatches"></span><h1>Submitting patches: the essential guide to getting your code into the kernel<a class="headerlink" href="#submitting-patches-the-essential-guide-to-getting-your-code-into-the-kernel" title="Permalink to this headline">¶</a></h1>
<p>For a person or company who wishes to submit a change to the Linux
kernel, the process can sometimes be daunting if you’re not familiar
with “the system.”  This text is a collection of suggestions which
can greatly increase the chances of your change being accepted.</p>
<p>This document contains a large number of suggestions in a relatively terse
format.  For detailed information on how the kernel development process
works, see <a class="reference internal" href="development-process.html#development-process-main"><span class="std std-ref">Documentation/process</span></a>.
Also, read <a class="reference internal" href="submit-checklist.html#submitchecklist"><span class="std std-ref">Documentation/process/submit-checklist.rst</span></a>
for a list of items to check before
submitting code.  If you are submitting a driver, also read
<a class="reference internal" href="submitting-drivers.html#submittingdrivers"><span class="std std-ref">Documentation/process/submitting-drivers.rst</span></a>;
for device tree binding patches, read
Documentation/devicetree/bindings/submitting-patches.txt.</p>
<p>Many of these steps describe the default behavior of the <code class="docutils literal"><span class="pre">git</span></code> version
control system; if you use <code class="docutils literal"><span class="pre">git</span></code> to prepare your patches, you’ll find much
of the mechanical work done for you, though you’ll still need to prepare
and document a sensible set of patches.  In general, use of <code class="docutils literal"><span class="pre">git</span></code> will make
your life as a kernel developer easier.</p>
<div class="section" id="obtain-a-current-source-tree">
<h2>0) Obtain a current source tree<a class="headerlink" href="#obtain-a-current-source-tree" title="Permalink to this headline">¶</a></h2>
<p>If you do not have a repository with the current kernel source handy, use
<code class="docutils literal"><span class="pre">git</span></code> to obtain one.  You’ll want to start with the mainline repository,
which can be grabbed with:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git
</pre></div>
</div>
<p>Note, however, that you may not want to develop against the mainline tree
directly.  Most subsystem maintainers run their own trees and want to see
patches prepared against those trees.  See the <strong>T:</strong> entry for the subsystem
in the MAINTAINERS file to find that tree, or simply ask the maintainer if
the tree is not listed there.</p>
<p>It is still possible to download kernel releases via tarballs (as described
in the next section), but that is the hard way to do kernel development.</p>
</div>
<div class="section" id="diff-up">
<h2>1) <code class="docutils literal"><span class="pre">diff</span> <span class="pre">-up</span></code><a class="headerlink" href="#diff-up" title="Permalink to this headline">¶</a></h2>
<p>If you must generate your patches by hand, use <code class="docutils literal"><span class="pre">diff</span> <span class="pre">-up</span></code> or <code class="docutils literal"><span class="pre">diff</span> <span class="pre">-uprN</span></code>
to create patches.  Git generates patches in this form by default; if
you’re using <code class="docutils literal"><span class="pre">git</span></code>, you can skip this section entirely.</p>
<p>All changes to the Linux kernel occur in the form of patches, as
generated by <em class="manpage">diff(1)</em>.  When creating your patch, make sure to
create it in “unified diff” format, as supplied by the <code class="docutils literal"><span class="pre">-u</span></code> argument
to <em class="manpage">diff(1)</em>.
Also, please use the <code class="docutils literal"><span class="pre">-p</span></code> argument which shows which C function each
change is in - that makes the resultant <code class="docutils literal"><span class="pre">diff</span></code> a lot easier to read.
Patches should be based in the root kernel source directory,
not in any lower subdirectory.</p>
<p>To create a patch for a single file, it is often sufficient to do:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>SRCTREE= linux
MYFILE=  drivers/net/mydriver.c

cd $SRCTREE
cp $MYFILE $MYFILE.orig
vi $MYFILE      # make your change
cd ..
diff -up $SRCTREE/$MYFILE{.orig,} &gt; /tmp/patch
</pre></div>
</div>
<p>To create a patch for multiple files, you should unpack a “vanilla”,
or unmodified kernel source tree, and generate a <code class="docutils literal"><span class="pre">diff</span></code> against your
own source tree.  For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MYSRC= /devel/linux

tar xvfz linux-3.19.tar.gz
mv linux-3.19 linux-3.19-vanilla
diff -uprN -X linux-3.19-vanilla/Documentation/dontdiff \
        linux-3.19-vanilla $MYSRC &gt; /tmp/patch
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">dontdiff</span></code> is a list of files which are generated by the kernel during
the build process, and should be ignored in any <em class="manpage">diff(1)</em>-generated
patch.</p>
<p>Make sure your patch does not include any extra files which do not
belong in a patch submission.  Make sure to review your patch -after-
generating it with <em class="manpage">diff(1)</em>, to ensure accuracy.</p>
<p>If your changes produce a lot of deltas, you need to split them into
individual patches which modify things in logical stages; see
<a class="reference internal" href="#split-changes"><span class="std std-ref">3) Separate your changes</span></a>.  This will facilitate review by other kernel developers,
very important if you want your patch accepted.</p>
<p>If you’re using <code class="docutils literal"><span class="pre">git</span></code>, <code class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">-i</span></code> can help you with this process.  If
you’re not using <code class="docutils literal"><span class="pre">git</span></code>, <code class="docutils literal"><span class="pre">quilt</span></code> &lt;<a class="reference external" href="http://savannah.nongnu.org/projects/quilt">http://savannah.nongnu.org/projects/quilt</a>&gt;
is another popular alternative.</p>
</div>
<div class="section" id="describe-your-changes">
<span id="describe-changes"></span><h2>2) Describe your changes<a class="headerlink" href="#describe-your-changes" title="Permalink to this headline">¶</a></h2>
<p>Describe your problem.  Whether your patch is a one-line bug fix or
5000 lines of a new feature, there must be an underlying problem that
motivated you to do this work.  Convince the reviewer that there is a
problem worth fixing and that it makes sense for them to read past the
first paragraph.</p>
<p>Describe user-visible impact.  Straight up crashes and lockups are
pretty convincing, but not all bugs are that blatant.  Even if the
problem was spotted during code review, describe the impact you think
it can have on users.  Keep in mind that the majority of Linux
installations run kernels from secondary stable trees or
vendor/product-specific trees that cherry-pick only specific patches
from upstream, so include anything that could help route your change
downstream: provoking circumstances, excerpts from dmesg, crash
descriptions, performance regressions, latency spikes, lockups, etc.</p>
<p>Quantify optimizations and trade-offs.  If you claim improvements in
performance, memory consumption, stack footprint, or binary size,
include numbers that back them up.  But also describe non-obvious
costs.  Optimizations usually aren’t free but trade-offs between CPU,
memory, and readability; or, when it comes to heuristics, between
different workloads.  Describe the expected downsides of your
optimization so that the reviewer can weigh costs against benefits.</p>
<p>Once the problem is established, describe what you are actually doing
about it in technical detail.  It’s important to describe the change
in plain English for the reviewer to verify that the code is behaving
as you intend it to.</p>
<p>The maintainer will thank you if you write your patch description in a
form which can be easily pulled into Linux’s source code management
system, <code class="docutils literal"><span class="pre">git</span></code>, as a “commit log”.  See <a class="reference internal" href="#explicit-in-reply-to"><span class="std std-ref">15) Explicit In-Reply-To headers</span></a>.</p>
<p>Solve only one problem per patch.  If your description starts to get
long, that’s a sign that you probably need to split up your patch.
See <a class="reference internal" href="#split-changes"><span class="std std-ref">3) Separate your changes</span></a>.</p>
<p>When you submit or resubmit a patch or patch series, include the
complete patch description and justification for it.  Don’t just
say that this is version N of the patch (series).  Don’t expect the
subsystem maintainer to refer back to earlier patch versions or referenced
URLs to find the patch description and put that into the patch.
I.e., the patch (series) and its description should be self-contained.
This benefits both the maintainers and reviewers.  Some reviewers
probably didn’t even receive earlier versions of the patch.</p>
<p>Describe your changes in imperative mood, e.g. “make xyzzy do frotz”
instead of “[This patch] makes xyzzy do frotz” or “[I] changed xyzzy
to do frotz”, as if you are giving orders to the codebase to change
its behaviour.</p>
<p>If the patch fixes a logged bug entry, refer to that bug entry by
number and URL.  If the patch follows from a mailing list discussion,
give a URL to the mailing list archive; use the <a class="reference external" href="https://lkml.kernel.org/">https://lkml.kernel.org/</a>
redirector with a <code class="docutils literal"><span class="pre">Message-Id</span></code>, to ensure that the links cannot become
stale.</p>
<p>However, try to make your explanation understandable without external
resources.  In addition to giving a URL to a mailing list archive or
bug, summarize the relevant points of the discussion that led to the
patch as submitted.</p>
<p>If you want to refer to a specific commit, don’t just refer to the
SHA-1 ID of the commit. Please also include the oneline summary of
the commit, to make it easier for reviewers to know what it is about.
Example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Commit e21d2170f36602ae2708 (&quot;video: remove unnecessary
platform_set_drvdata()&quot;) removed the unnecessary
platform_set_drvdata(), but left the variable &quot;dev&quot; unused,
delete it.
</pre></div>
</div>
<p>You should also be sure to use at least the first twelve characters of the
SHA-1 ID.  The kernel repository holds a <em>lot</em> of objects, making
collisions with shorter IDs a real possibility.  Bear in mind that, even if
there is no collision with your six-character ID now, that condition may
change five years from now.</p>
<p>If your patch fixes a bug in a specific commit, e.g. you found an issue using
<code class="docutils literal"><span class="pre">git</span> <span class="pre">bisect</span></code>, please use the ‘Fixes:’ tag with the first 12 characters of
the SHA-1 ID, and the one line summary.  For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Fixes: e21d2170f366 (&quot;video: remove unnecessary platform_set_drvdata()&quot;)
</pre></div>
</div>
<p>The following <code class="docutils literal"><span class="pre">git</span> <span class="pre">config</span></code> settings can be used to add a pretty format for
outputting the above style in the <code class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></code> or <code class="docutils literal"><span class="pre">git</span> <span class="pre">show</span></code> commands:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[core]
        abbrev = 12
[pretty]
        fixes = Fixes: %h (\&quot;%s\&quot;)
</pre></div>
</div>
</div>
<div class="section" id="separate-your-changes">
<span id="split-changes"></span><h2>3) Separate your changes<a class="headerlink" href="#separate-your-changes" title="Permalink to this headline">¶</a></h2>
<p>Separate each <strong>logical change</strong> into a separate patch.</p>
<p>For example, if your changes include both bug fixes and performance
enhancements for a single driver, separate those changes into two
or more patches.  If your changes include an API update, and a new
driver which uses that new API, separate those into two patches.</p>
<p>On the other hand, if you make a single change to numerous files,
group those changes into a single patch.  Thus a single logical change
is contained within a single patch.</p>
<p>The point to remember is that each patch should make an easily understood
change that can be verified by reviewers.  Each patch should be justifiable
on its own merits.</p>
<p>If one patch depends on another patch in order for a change to be
complete, that is OK.  Simply note <strong>“this patch depends on patch X”</strong>
in your patch description.</p>
<p>When dividing your change into a series of patches, take special care to
ensure that the kernel builds and runs properly after each patch in the
series.  Developers using <code class="docutils literal"><span class="pre">git</span> <span class="pre">bisect</span></code> to track down a problem can end up
splitting your patch series at any point; they will not thank you if you
introduce bugs in the middle.</p>
<p>If you cannot condense your patch set into a smaller set of patches,
then only post say 15 or so at a time and wait for review and integration.</p>
</div>
<div class="section" id="style-check-your-changes">
<h2>4) Style-check your changes<a class="headerlink" href="#style-check-your-changes" title="Permalink to this headline">¶</a></h2>
<p>Check your patch for basic style violations, details of which can be
found in
<a class="reference internal" href="coding-style.html#codingstyle"><span class="std std-ref">Documentation/process/coding-style.rst</span></a>.
Failure to do so simply wastes
the reviewers time and will get your patch rejected, probably
without even being read.</p>
<p>One significant exception is when moving code from one file to
another – in this case you should not modify the moved code at all in
the same patch which moves it.  This clearly delineates the act of
moving the code and your changes.  This greatly aids review of the
actual differences and allows tools to better track the history of
the code itself.</p>
<p>Check your patches with the patch style checker prior to submission
(scripts/checkpatch.pl).  Note, though, that the style checker should be
viewed as a guide, not as a replacement for human judgment.  If your code
looks better with a violation then its probably best left alone.</p>
<dl class="docutils">
<dt>The checker reports at three levels:</dt>
<dd><ul class="first last simple">
<li>ERROR: things that are very likely to be wrong</li>
<li>WARNING: things requiring careful review</li>
<li>CHECK: things requiring thought</li>
</ul>
</dd>
</dl>
<p>You should be able to justify all violations that remain in your
patch.</p>
</div>
<div class="section" id="select-the-recipients-for-your-patch">
<h2>5) Select the recipients for your patch<a class="headerlink" href="#select-the-recipients-for-your-patch" title="Permalink to this headline">¶</a></h2>
<p>You should always copy the appropriate subsystem maintainer(s) on any patch
to code that they maintain; look through the MAINTAINERS file and the
source code revision history to see who those maintainers are.  The
script scripts/get_maintainer.pl can be very useful at this step.  If you
cannot find a maintainer for the subsystem you are working on, Andrew
Morton (<a class="reference external" href="mailto:akpm&#37;&#52;&#48;linux-foundation&#46;org">akpm<span>&#64;</span>linux-foundation<span>&#46;</span>org</a>) serves as a maintainer of last resort.</p>
<p>You should also normally choose at least one mailing list to receive a copy
of your patch set.  <a class="reference external" href="mailto:linux-kernel&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-kernel<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a> functions as a list of
last resort, but the volume on that list has caused a number of developers
to tune it out.  Look in the MAINTAINERS file for a subsystem-specific
list; your patch will probably get more attention there.  Please do not
spam unrelated lists, though.</p>
<p>Many kernel-related lists are hosted on vger.kernel.org; you can find a
list of them at <a class="reference external" href="http://vger.kernel.org/vger-lists.html">http://vger.kernel.org/vger-lists.html</a>.  There are
kernel-related lists hosted elsewhere as well, though.</p>
<p>Do not send more than 15 patches at once to the vger mailing lists!!!</p>
<p>Linus Torvalds is the final arbiter of all changes accepted into the
Linux kernel.  His e-mail address is &lt;<a class="reference external" href="mailto:torvalds&#37;&#52;&#48;linux-foundation&#46;org">torvalds<span>&#64;</span>linux-foundation<span>&#46;</span>org</a>&gt;.
He gets a lot of e-mail, and, at this point, very few patches go through
Linus directly, so typically you should do your best to -avoid-
sending him e-mail.</p>
<p>If you have a patch that fixes an exploitable security bug, send that patch
to <a class="reference external" href="mailto:security&#37;&#52;&#48;kernel&#46;org">security<span>&#64;</span>kernel<span>&#46;</span>org</a>.  For severe bugs, a short embargo may be considered
to allow distributors to get the patch out to users; in such cases,
obviously, the patch should not be sent to any public lists.</p>
<p>Patches that fix a severe bug in a released kernel should be directed
toward the stable maintainers by putting a line like this:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Cc: stable@vger.kernel.org
</pre></div>
</div>
<p>into the sign-off area of your patch (note, NOT an email recipient).  You
should also read
<a class="reference internal" href="stable-kernel-rules.html#stable-kernel-rules"><span class="std std-ref">Documentation/process/stable-kernel-rules.rst</span></a>
in addition to this file.</p>
<p>Note, however, that some subsystem maintainers want to come to their own
conclusions on which patches should go to the stable trees.  The networking
maintainer, in particular, would rather not see individual developers
adding lines like the above to their patches.</p>
<p>If changes affect userland-kernel interfaces, please send the MAN-PAGES
maintainer (as listed in the MAINTAINERS file) a man-pages patch, or at
least a notification of the change, so that some information makes its way
into the manual pages.  User-space API changes should also be copied to
<a class="reference external" href="mailto:linux-api&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-api<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a>.</p>
<p>For small patches you may want to CC the Trivial Patch Monkey
<a class="reference external" href="mailto:trivial&#37;&#52;&#48;kernel&#46;org">trivial<span>&#64;</span>kernel<span>&#46;</span>org</a> which collects “trivial” patches. Have a look
into the MAINTAINERS file for its current manager.</p>
<p>Trivial patches must qualify for one of the following rules:</p>
<ul class="simple">
<li>Spelling fixes in documentation</li>
<li>Spelling fixes for errors which could break <em class="manpage">grep(1)</em></li>
<li>Warning fixes (cluttering with useless warnings is bad)</li>
<li>Compilation fixes (only if they are actually correct)</li>
<li>Runtime fixes (only if they actually fix things)</li>
<li>Removing use of deprecated functions/macros</li>
<li>Contact detail and documentation fixes</li>
<li>Non-portable code replaced by portable code (even in arch-specific,
since people copy, as long as it’s trivial)</li>
<li>Any fix by the author/maintainer of the file (ie. patch monkey
in re-transmission mode)</li>
</ul>
</div>
<div class="section" id="no-mime-no-links-no-compression-no-attachments-just-plain-text">
<h2>6) No MIME, no links, no compression, no attachments.  Just plain text<a class="headerlink" href="#no-mime-no-links-no-compression-no-attachments-just-plain-text" title="Permalink to this headline">¶</a></h2>
<p>Linus and other kernel developers need to be able to read and comment
on the changes you are submitting.  It is important for a kernel
developer to be able to “quote” your changes, using standard e-mail
tools, so that they may comment on specific portions of your code.</p>
<p>For this reason, all patches should be submitted by e-mail “inline”.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be wary of your editor’s word-wrap corrupting your patch,
if you choose to cut-n-paste your patch.</p>
</div>
<p>Do not attach the patch as a MIME attachment, compressed or not.
Many popular e-mail applications will not always transmit a MIME
attachment as plain text, making it impossible to comment on your
code.  A MIME attachment also takes Linus a bit more time to process,
decreasing the likelihood of your MIME-attached change being accepted.</p>
<p>Exception:  If your mailer is mangling patches then someone may ask
you to re-send them using MIME.</p>
<p>See <a class="reference internal" href="email-clients.html#email-clients"><span class="std std-ref">Documentation/process/email-clients.rst</span></a>
for hints about configuring your e-mail client so that it sends your patches
untouched.</p>
</div>
<div class="section" id="e-mail-size">
<h2>7) E-mail size<a class="headerlink" href="#e-mail-size" title="Permalink to this headline">¶</a></h2>
<p>Large changes are not appropriate for mailing lists, and some
maintainers.  If your patch, uncompressed, exceeds 300 kB in size,
it is preferred that you store your patch on an Internet-accessible
server, and provide instead a URL (link) pointing to your patch.  But note
that if your patch exceeds 300 kB, it almost certainly needs to be broken up
anyway.</p>
</div>
<div class="section" id="respond-to-review-comments">
<h2>8) Respond to review comments<a class="headerlink" href="#respond-to-review-comments" title="Permalink to this headline">¶</a></h2>
<p>Your patch will almost certainly get comments from reviewers on ways in
which the patch can be improved.  You must respond to those comments;
ignoring reviewers is a good way to get ignored in return.  Review comments
or questions that do not lead to a code change should almost certainly
bring about a comment or changelog entry so that the next reviewer better
understands what is going on.</p>
<p>Be sure to tell the reviewers what changes you are making and to thank them
for their time.  Code review is a tiring and time-consuming process, and
reviewers sometimes get grumpy.  Even in that case, though, respond
politely and address the problems they have pointed out.</p>
</div>
<div class="section" id="don-t-get-discouraged-or-impatient">
<h2>9) Don’t get discouraged - or impatient<a class="headerlink" href="#don-t-get-discouraged-or-impatient" title="Permalink to this headline">¶</a></h2>
<p>After you have submitted your change, be patient and wait.  Reviewers are
busy people and may not get to your patch right away.</p>
<p>Once upon a time, patches used to disappear into the void without comment,
but the development process works more smoothly than that now.  You should
receive comments within a week or so; if that does not happen, make sure
that you have sent your patches to the right place.  Wait for a minimum of
one week before resubmitting or pinging reviewers - possibly longer during
busy times like merge windows.</p>
</div>
<div class="section" id="include-patch-in-the-subject">
<h2>10) Include PATCH in the subject<a class="headerlink" href="#include-patch-in-the-subject" title="Permalink to this headline">¶</a></h2>
<p>Due to high e-mail traffic to Linus, and to linux-kernel, it is common
convention to prefix your subject line with [PATCH].  This lets Linus
and other kernel developers more easily distinguish patches from other
e-mail discussions.</p>
</div>
<div class="section" id="sign-your-work-the-developer-s-certificate-of-origin">
<h2>11) Sign your work - the Developer’s Certificate of Origin<a class="headerlink" href="#sign-your-work-the-developer-s-certificate-of-origin" title="Permalink to this headline">¶</a></h2>
<p>To improve tracking of who did what, especially with patches that can
percolate to their final resting place in the kernel through several
layers of maintainers, we’ve introduced a “sign-off” procedure on
patches that are being emailed around.</p>
<p>The sign-off is a simple line at the end of the explanation for the
patch, which certifies that you wrote it or otherwise have the right to
pass it on as an open-source patch.  The rules are pretty simple: if you
can certify the below:</p>
<div class="section" id="developer-s-certificate-of-origin-1-1">
<h3>Developer’s Certificate of Origin 1.1<a class="headerlink" href="#developer-s-certificate-of-origin-1-1" title="Permalink to this headline">¶</a></h3>
<p>By making a contribution to this project, I certify that:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>The contribution was created in whole or in part by me and I
have the right to submit it under the open source license
indicated in the file; or</li>
<li>The contribution is based upon previous work that, to the best
of my knowledge, is covered under an appropriate open source
license and I have the right under that license to submit that
work with modifications, whether created in whole or in part
by me, under the same open source license (unless I am
permitted to submit under a different license), as indicated
in the file; or</li>
<li>The contribution was provided directly to me by some other
person who certified (a), (b) or (c) and I have not modified
it.</li>
<li>I understand and agree that this project and the contribution
are public and that a record of the contribution (including all
personal information I submit with it, including my sign-off) is
maintained indefinitely and may be redistributed consistent with
this project or the open source license(s) involved.</li>
</ol>
</div></blockquote>
<p>then you just add a line saying:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Signed-off-by: Random J Developer &lt;random@developer.example.org&gt;
</pre></div>
</div>
<p>using your real name (sorry, no pseudonyms or anonymous contributions.)</p>
<p>Some people also put extra tags at the end.  They’ll just be ignored for
now, but you can do this to mark internal company procedures or just
point out some special detail about the sign-off.</p>
<p>If you are a subsystem or branch maintainer, sometimes you need to slightly
modify patches you receive in order to merge them, because the code is not
exactly the same in your tree and the submitters’. If you stick strictly to
rule (c), you should ask the submitter to rediff, but this is a totally
counter-productive waste of time and energy. Rule (b) allows you to adjust
the code, but then it is very impolite to change one submitter’s code and
make him endorse your bugs. To solve this problem, it is recommended that
you add a line between the last Signed-off-by header and yours, indicating
the nature of your changes. While there is nothing mandatory about this, it
seems like prepending the description with your mail and/or name, all
enclosed in square brackets, is noticeable enough to make it obvious that
you are responsible for last-minute changes. Example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Signed-off-by: Random J Developer &lt;random@developer.example.org&gt;
[lucky@maintainer.example.org: struct foo moved from foo.c to foo.h]
Signed-off-by: Lucky K Maintainer &lt;lucky@maintainer.example.org&gt;
</pre></div>
</div>
<p>This practice is particularly helpful if you maintain a stable branch and
want at the same time to credit the author, track changes, merge the fix,
and protect the submitter from complaints. Note that under no circumstances
can you change the author’s identity (the From header), as it is the one
which appears in the changelog.</p>
<p>Special note to back-porters: It seems to be a common and useful practice
to insert an indication of the origin of a patch at the top of the commit
message (just after the subject line) to facilitate tracking. For instance,
here’s what we see in a 3.x-stable release:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Date:   Tue Oct 7 07:26:38 2014 -0400

  libata: Un-break ATA blacklist

  commit 1c40279960bcd7d52dbdf1d466b20d24b99176c8 upstream.
</pre></div>
</div>
<p>And here’s what might appear in an older kernel once a patch is backported:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Date:   Tue May 13 22:12:27 2008 +0200

    wireless, airo: waitbusy() won&#39;t delay

    [backport of 2.6 commit b7acbdfbd1f277c1eb23f344f899cfa4cd0bf36a]
</pre></div>
</div>
<p>Whatever the format, this information provides a valuable help to people
tracking your trees, and to people trying to troubleshoot bugs in your
tree.</p>
</div>
</div>
<div class="section" id="when-to-use-acked-by-and-cc">
<h2>12) When to use Acked-by: and Cc:<a class="headerlink" href="#when-to-use-acked-by-and-cc" title="Permalink to this headline">¶</a></h2>
<p>The Signed-off-by: tag indicates that the signer was involved in the
development of the patch, or that he/she was in the patch’s delivery path.</p>
<p>If a person was not directly involved in the preparation or handling of a
patch but wishes to signify and record their approval of it then they can
ask to have an Acked-by: line added to the patch’s changelog.</p>
<p>Acked-by: is often used by the maintainer of the affected code when that
maintainer neither contributed to nor forwarded the patch.</p>
<p>Acked-by: is not as formal as Signed-off-by:.  It is a record that the acker
has at least reviewed the patch and has indicated acceptance.  Hence patch
mergers will sometimes manually convert an acker’s “yep, looks good to me”
into an Acked-by: (but note that it is usually better to ask for an
explicit ack).</p>
<p>Acked-by: does not necessarily indicate acknowledgement of the entire patch.
For example, if a patch affects multiple subsystems and has an Acked-by: from
one subsystem maintainer then this usually indicates acknowledgement of just
the part which affects that maintainer’s code.  Judgement should be used here.
When in doubt people should refer to the original discussion in the mailing
list archives.</p>
<p>If a person has had the opportunity to comment on a patch, but has not
provided such comments, you may optionally add a <code class="docutils literal"><span class="pre">Cc:</span></code> tag to the patch.
This is the only tag which might be added without an explicit action by the
person it names - but it should indicate that this person was copied on the
patch.  This tag documents that potentially interested parties
have been included in the discussion.</p>
</div>
<div class="section" id="using-reported-by-tested-by-reviewed-by-suggested-by-and-fixes">
<h2>13) Using Reported-by:, Tested-by:, Reviewed-by:, Suggested-by: and Fixes:<a class="headerlink" href="#using-reported-by-tested-by-reviewed-by-suggested-by-and-fixes" title="Permalink to this headline">¶</a></h2>
<p>The Reported-by tag gives credit to people who find bugs and report them and it
hopefully inspires them to help us again in the future.  Please note that if
the bug was reported in private, then ask for permission first before using the
Reported-by tag.</p>
<p>A Tested-by: tag indicates that the patch has been successfully tested (in
some environment) by the person named.  This tag informs maintainers that
some testing has been performed, provides a means to locate testers for
future patches, and ensures credit for the testers.</p>
<p>Reviewed-by:, instead, indicates that the patch has been reviewed and found
acceptable according to the Reviewer’s Statement:</p>
<div class="section" id="reviewer-s-statement-of-oversight">
<h3>Reviewer’s statement of oversight<a class="headerlink" href="#reviewer-s-statement-of-oversight" title="Permalink to this headline">¶</a></h3>
<p>By offering my Reviewed-by: tag, I state that:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>I have carried out a technical review of this patch to
evaluate its appropriateness and readiness for inclusion into
the mainline kernel.</li>
<li>Any problems, concerns, or questions relating to the patch
have been communicated back to the submitter.  I am satisfied
with the submitter’s response to my comments.</li>
<li>While there may be things that could be improved with this
submission, I believe that it is, at this time, (1) a
worthwhile modification to the kernel, and (2) free of known
issues which would argue against its inclusion.</li>
<li>While I have reviewed the patch and believe it to be sound, I
do not (unless explicitly stated elsewhere) make any
warranties or guarantees that it will achieve its stated
purpose or function properly in any given situation.</li>
</ol>
</div></blockquote>
<p>A Reviewed-by tag is a statement of opinion that the patch is an
appropriate modification of the kernel without any remaining serious
technical issues.  Any interested reviewer (who has done the work) can
offer a Reviewed-by tag for a patch.  This tag serves to give credit to
reviewers and to inform maintainers of the degree of review which has been
done on the patch.  Reviewed-by: tags, when supplied by reviewers known to
understand the subject area and to perform thorough reviews, will normally
increase the likelihood of your patch getting into the kernel.</p>
<p>A Suggested-by: tag indicates that the patch idea is suggested by the person
named and ensures credit to the person for the idea. Please note that this
tag should not be added without the reporter’s permission, especially if the
idea was not posted in a public forum. That said, if we diligently credit our
idea reporters, they will, hopefully, be inspired to help us again in the
future.</p>
<p>A Fixes: tag indicates that the patch fixes an issue in a previous commit. It
is used to make it easy to determine where a bug originated, which can help
review a bug fix. This tag also assists the stable kernel team in determining
which stable kernel versions should receive your fix. This is the preferred
method for indicating a bug fixed by the patch. See <a class="reference internal" href="#describe-changes"><span class="std std-ref">2) Describe your changes</span></a>
for more details.</p>
</div>
</div>
<div class="section" id="the-canonical-patch-format">
<h2>14) The canonical patch format<a class="headerlink" href="#the-canonical-patch-format" title="Permalink to this headline">¶</a></h2>
<p>This section describes how the patch itself should be formatted.  Note
that, if you have your patches stored in a <code class="docutils literal"><span class="pre">git</span></code> repository, proper patch
formatting can be had with <code class="docutils literal"><span class="pre">git</span> <span class="pre">format-patch</span></code>.  The tools cannot create
the necessary text, though, so read the instructions below anyway.</p>
<p>The canonical patch subject line is:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Subject: [PATCH 001/123] subsystem: summary phrase
</pre></div>
</div>
<p>The canonical patch message body contains the following:</p>
<blockquote>
<div><ul class="simple">
<li>A <code class="docutils literal"><span class="pre">from</span></code> line specifying the patch author (only needed if the person
sending the patch is not the author).</li>
<li>An empty line.</li>
<li>The body of the explanation, line wrapped at 75 columns, which will
be copied to the permanent changelog to describe this patch.</li>
<li>The <code class="docutils literal"><span class="pre">Signed-off-by:</span></code> lines, described above, which will
also go in the changelog.</li>
<li>A marker line containing simply <code class="docutils literal"><span class="pre">---</span></code>.</li>
<li>Any additional comments not suitable for the changelog.</li>
<li>The actual patch (<code class="docutils literal"><span class="pre">diff</span></code> output).</li>
</ul>
</div></blockquote>
<p>The Subject line format makes it very easy to sort the emails
alphabetically by subject line - pretty much any email reader will
support that - since because the sequence number is zero-padded,
the numerical and alphabetic sort is the same.</p>
<p>The <code class="docutils literal"><span class="pre">subsystem</span></code> in the email’s Subject should identify which
area or subsystem of the kernel is being patched.</p>
<p>The <code class="docutils literal"><span class="pre">summary</span> <span class="pre">phrase</span></code> in the email’s Subject should concisely
describe the patch which that email contains.  The <code class="docutils literal"><span class="pre">summary</span>
<span class="pre">phrase</span></code> should not be a filename.  Do not use the same <code class="docutils literal"><span class="pre">summary</span>
<span class="pre">phrase</span></code> for every patch in a whole patch series (where a <code class="docutils literal"><span class="pre">patch</span>
<span class="pre">series</span></code> is an ordered sequence of multiple, related patches).</p>
<p>Bear in mind that the <code class="docutils literal"><span class="pre">summary</span> <span class="pre">phrase</span></code> of your email becomes a
globally-unique identifier for that patch.  It propagates all the way
into the <code class="docutils literal"><span class="pre">git</span></code> changelog.  The <code class="docutils literal"><span class="pre">summary</span> <span class="pre">phrase</span></code> may later be used in
developer discussions which refer to the patch.  People will want to
google for the <code class="docutils literal"><span class="pre">summary</span> <span class="pre">phrase</span></code> to read discussion regarding that
patch.  It will also be the only thing that people may quickly see
when, two or three months later, they are going through perhaps
thousands of patches using tools such as <code class="docutils literal"><span class="pre">gitk</span></code> or <code class="docutils literal"><span class="pre">git</span> <span class="pre">log</span>
<span class="pre">--oneline</span></code>.</p>
<p>For these reasons, the <code class="docutils literal"><span class="pre">summary</span></code> must be no more than 70-75
characters, and it must describe both what the patch changes, as well
as why the patch might be necessary.  It is challenging to be both
succinct and descriptive, but that is what a well-written summary
should do.</p>
<p>The <code class="docutils literal"><span class="pre">summary</span> <span class="pre">phrase</span></code> may be prefixed by tags enclosed in square
brackets: “Subject: [PATCH &lt;tag&gt;…] &lt;summary phrase&gt;”.  The tags are
not considered part of the summary phrase, but describe how the patch
should be treated.  Common tags might include a version descriptor if
the multiple versions of the patch have been sent out in response to
comments (i.e., “v1, v2, v3”), or “RFC” to indicate a request for
comments.  If there are four patches in a patch series the individual
patches may be numbered like this: 1/4, 2/4, 3/4, 4/4.  This assures
that developers understand the order in which the patches should be
applied and that they have reviewed or applied all of the patches in
the patch series.</p>
<p>A couple of example Subjects:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Subject: [PATCH 2/5] ext2: improve scalability of bitmap searching
Subject: [PATCH v2 01/27] x86: fix eflags tracking
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">from</span></code> line must be the very first line in the message body,
and has the form:</p>
<blockquote>
<div>From: Original Author &lt;<a class="reference external" href="mailto:author&#37;&#52;&#48;example&#46;com">author<span>&#64;</span>example<span>&#46;</span>com</a>&gt;</div></blockquote>
<p>The <code class="docutils literal"><span class="pre">from</span></code> line specifies who will be credited as the author of the
patch in the permanent changelog.  If the <code class="docutils literal"><span class="pre">from</span></code> line is missing,
then the <code class="docutils literal"><span class="pre">From:</span></code> line from the email header will be used to determine
the patch author in the changelog.</p>
<p>The explanation body will be committed to the permanent source
changelog, so should make sense to a competent reader who has long
since forgotten the immediate details of the discussion that might
have led to this patch.  Including symptoms of the failure which the
patch addresses (kernel log messages, oops messages, etc.) is
especially useful for people who might be searching the commit logs
looking for the applicable patch.  If a patch fixes a compile failure,
it may not be necessary to include _all_ of the compile failures; just
enough that it is likely that someone searching for the patch can find
it.  As in the <code class="docutils literal"><span class="pre">summary</span> <span class="pre">phrase</span></code>, it is important to be both succinct as
well as descriptive.</p>
<p>The <code class="docutils literal"><span class="pre">---</span></code> marker line serves the essential purpose of marking for patch
handling tools where the changelog message ends.</p>
<p>One good use for the additional comments after the <code class="docutils literal"><span class="pre">---</span></code> marker is for
a <code class="docutils literal"><span class="pre">diffstat</span></code>, to show what files have changed, and the number of
inserted and deleted lines per file.  A <code class="docutils literal"><span class="pre">diffstat</span></code> is especially useful
on bigger patches.  Other comments relevant only to the moment or the
maintainer, not suitable for the permanent changelog, should also go
here.  A good example of such comments might be <code class="docutils literal"><span class="pre">patch</span> <span class="pre">changelogs</span></code>
which describe what has changed between the v1 and v2 version of the
patch.</p>
<p>If you are going to include a <code class="docutils literal"><span class="pre">diffstat</span></code> after the <code class="docutils literal"><span class="pre">---</span></code> marker, please
use <code class="docutils literal"><span class="pre">diffstat</span></code> options <code class="docutils literal"><span class="pre">-p</span> <span class="pre">1</span> <span class="pre">-w</span> <span class="pre">70</span></code> so that filenames are listed from
the top of the kernel source tree and don’t use too much horizontal
space (easily fit in 80 columns, maybe with some indentation).  (<code class="docutils literal"><span class="pre">git</span></code>
generates appropriate diffstats by default.)</p>
<p>See more details on the proper patch format in the following
references.</p>
</div>
<div class="section" id="explicit-in-reply-to-headers">
<span id="explicit-in-reply-to"></span><h2>15) Explicit In-Reply-To headers<a class="headerlink" href="#explicit-in-reply-to-headers" title="Permalink to this headline">¶</a></h2>
<p>It can be helpful to manually add In-Reply-To: headers to a patch
(e.g., when using <code class="docutils literal"><span class="pre">git</span> <span class="pre">send-email</span></code>) to associate the patch with
previous relevant discussion, e.g. to link a bug fix to the email with
the bug report.  However, for a multi-patch series, it is generally
best to avoid using In-Reply-To: to link to older versions of the
series.  This way multiple versions of the patch don’t become an
unmanageable forest of references in email clients.  If a link is
helpful, you can use the <a class="reference external" href="https://lkml.kernel.org/">https://lkml.kernel.org/</a> redirector (e.g., in
the cover email text) to link to an earlier version of the patch series.</p>
</div>
<div class="section" id="sending-git-pull-requests">
<h2>16) Sending <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code> requests<a class="headerlink" href="#sending-git-pull-requests" title="Permalink to this headline">¶</a></h2>
<p>If you have a series of patches, it may be most convenient to have the
maintainer pull them directly into the subsystem repository with a
<code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code> operation.  Note, however, that pulling patches from a developer
requires a higher degree of trust than taking patches from a mailing list.
As a result, many subsystem maintainers are reluctant to take pull
requests, especially from new, unknown developers.  If in doubt you can use
the pull request as the cover letter for a normal posting of the patch
series, giving the maintainer the option of using either.</p>
<p>A pull request should have [GIT] or [PULL] in the subject line.  The
request itself should include the repository name and the branch of
interest on a single line; it should look something like:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Please pull from

    git://jdelvare.pck.nerim.net/jdelvare-2.6 i2c-for-linus

to get these changes:
</pre></div>
</div>
<p>A pull request should also include an overall message saying what will be
included in the request, a <code class="docutils literal"><span class="pre">git</span> <span class="pre">shortlog</span></code> listing of the patches
themselves, and a <code class="docutils literal"><span class="pre">diffstat</span></code> showing the overall effect of the patch series.
The easiest way to get all this information together is, of course, to let
<code class="docutils literal"><span class="pre">git</span></code> do it for you with the <code class="docutils literal"><span class="pre">git</span> <span class="pre">request-pull</span></code> command.</p>
<p>Some maintainers (including Linus) want to see pull requests from signed
commits; that increases their confidence that the request actually came
from you.  Linus, in particular, will not pull from public hosting sites
like GitHub in the absence of a signed tag.</p>
<p>The first step toward creating such tags is to make a GNUPG key and get it
signed by one or more core kernel developers.  This step can be hard for
new developers, but there is no way around it.  Attending conferences can
be a good way to find developers who can sign your key.</p>
<p>Once you have prepared a patch series in <code class="docutils literal"><span class="pre">git</span></code> that you wish to have somebody
pull, create a signed tag with <code class="docutils literal"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-s</span></code>.  This will create a new tag
identifying the last commit in the series and containing a signature
created with your private key.  You will also have the opportunity to add a
changelog-style message to the tag; this is an ideal place to describe the
effects of the pull request as a whole.</p>
<p>If the tree the maintainer will be pulling from is not the repository you
are working from, don’t forget to push the signed tag explicitly to the
public tree.</p>
<p>When generating your pull request, use the signed tag as the target.  A
command like this will do the trick:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>git request-pull master git://my.public.tree/linux.git my-signed-tag
</pre></div>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Andrew Morton, “The perfect patch” (tpp).</dt>
<dd>&lt;<a class="reference external" href="http://www.ozlabs.org/~akpm/stuff/tpp.txt">http://www.ozlabs.org/~akpm/stuff/tpp.txt</a>&gt;</dd>
<dt>Jeff Garzik, “Linux kernel patch submission format”.</dt>
<dd>&lt;<a class="reference external" href="http://linux.yyz.us/patch-format.html">http://linux.yyz.us/patch-format.html</a>&gt;</dd>
<dt>Greg Kroah-Hartman, “How to piss off a kernel subsystem maintainer”.</dt>
<dd><p class="first">&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer.html">http://www.kroah.com/log/linux/maintainer.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-02.html">http://www.kroah.com/log/linux/maintainer-02.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-03.html">http://www.kroah.com/log/linux/maintainer-03.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-04.html">http://www.kroah.com/log/linux/maintainer-04.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-05.html">http://www.kroah.com/log/linux/maintainer-05.html</a>&gt;</p>
<p class="last">&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-06.html">http://www.kroah.com/log/linux/maintainer-06.html</a>&gt;</p>
</dd>
<dt>NO!!!! No more huge patch bombs to <a class="reference external" href="mailto:linux-kernel&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-kernel<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a> people!</dt>
<dd>&lt;<a class="reference external" href="https://lkml.org/lkml/2005/7/11/336">https://lkml.org/lkml/2005/7/11/336</a>&gt;</dd>
<dt>Kernel Documentation/process/coding-style.rst:</dt>
<dd><a class="reference internal" href="coding-style.html#codingstyle"><span class="std std-ref">Documentation/process/coding-style.rst</span></a></dd>
<dt>Linus Torvalds’s mail on the canonical patch format:</dt>
<dd>&lt;<a class="reference external" href="http://lkml.org/lkml/2005/4/7/183">http://lkml.org/lkml/2005/4/7/183</a>&gt;</dd>
<dt>Andi Kleen, “On submitting kernel patches”</dt>
<dd><p class="first">Some strategies to get difficult or controversial changes in.</p>
<p class="last"><a class="reference external" href="http://halobates.de/on-submitting-patches.pdf">http://halobates.de/on-submitting-patches.pdf</a></p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="coding-style.html" class="btn btn-neutral float-right" title="Linux kernel coding style" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="8.Conclusion.html" class="btn btn-neutral" title="8. For more information" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>